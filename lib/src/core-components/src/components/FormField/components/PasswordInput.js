"use strict";import{jsx as s,jsxs as c}from"react/jsx-runtime";import F,{useState as S}from"react";import e from"../../../tc.module.css";import{cn as t}from"../../../utils";import{Icon as V}from"../../Icon/Icon";export const PasswordInput=F.forwardRef(({id:i,label:d,error:a,required:f,value:g,onChange:u,onValueChange:y,onBlur:x,onValueBlur:h,onFocus:w,disabled:o,placeholder:b,className:m,labelProps:k,...p},N)=>{const[n,v]=S(!1),I=()=>{v(r=>!r)},j=r=>{const l=r.target.value;y?.(l),u&&u(r)},P=r=>{const l=r.target.value;h?.(l),x?.(r)};return c("div",{className:t(e["w-full"],m),children:[d&&c("label",{htmlFor:i,className:t(e.block,e["text-sm"],e["font-medium"],e["text-gray-700"],e["dark:text-gray-300"],e["mb-1"]),...k,children:[d,f&&s("span",{className:t(e["text-red-500"],e["ml-1"]),children:"*"})]}),c("div",{className:t(e.flex,e["items-center"],e.relative),children:[s("input",{ref:N,id:i,type:n?"text":"password",required:f,disabled:o,value:g,onChange:j,onBlur:P,onFocus:w,placeholder:b,className:t(e["w-full"],e["px-4"],e["py-2"],e["pr-12"],e.border,e["rounded-lg"],e["transition-colors"],e["bg-white"],e["dark:bg-gray-800"],e["border-gray-300"],e["dark:border-gray-600"],e["text-gray-900"],e["dark:text-gray-100"],e["placeholder-gray-500"],e["dark:placeholder-gray-400"],e["focus:outline-none"],e["focus:ring-2"],e["focus:ring-primary"],e["focus:ring-offset-1"],a&&e["border-red-500"],a&&e["focus:ring-red-500"],m),style:{...p.style,"--tw-ring-offset-color":"#ffffff"},...p}),s("button",{type:"button",onClick:I,disabled:o,className:t(e.absolute,e["right-3"],e.flex,e["items-center"],e["justify-center"],e["focus:outline-none"],e["transition-colors"],e["cursor-pointer"],o&&e["cursor-not-allowed"],o&&e["opacity-50"]),style:{background:"transparent",border:"none",padding:"4px"},"aria-label":n?"Hide password":"Show password",tabIndex:-1,children:s(V,{nameIcon:n?"FiEyeOff":"FiEye",propsIcon:{size:20,color:o?"#9ca3af":"#6b7280"}})})]}),a&&s("p",{className:t(e["mt-1"],e["text-sm"],e["text-red-600"],e["dark:text-red-400"]),children:a})]})});PasswordInput.displayName="PasswordInput";
