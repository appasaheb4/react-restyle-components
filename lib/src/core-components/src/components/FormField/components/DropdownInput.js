"use strict";import{jsx as n,jsxs as h}from"react/jsx-runtime";import q,{useState as x,useEffect as g,useRef as A}from"react";import{Label as F}from"../../../core-components/atoms/Label/Label";import{Icon as b}from"../../Icon/Icon";import e from"../../../tc.module.css";import{cn as s}from"../../../utils";export const DropdownInput=q.forwardRef(({id:f,label:d,error:u,required:v,value:l,onChange:p,disabled:t,dropdownItems:i=[],placeholder:D,name:k,className:I,labelProps:N,...C},R)=>{const[o,c]=x(!1),[L,m]=x(l||""),[j,y]=x(i),w=A(null);g(()=>{i&&y(i)},[i]),g(()=>{l!==void 0&&m(l)},[l]),g(()=>{function r(a){w.current&&!w.current.contains(a.target)&&o&&c(!1)}return document.addEventListener("mousedown",r),()=>{document.removeEventListener("mousedown",r)}},[o]);const z=r=>{const a=r.target.value;m(a);const O=i.filter(V=>V.toLowerCase().includes(a.toLowerCase()));y(O),p&&p(a)},E=r=>{m(r),c(!1),p&&p(r)};return h("div",{className:s(e["w-full"],e.relative,I),children:[d&&n(F,{id:f,required:v,label:d,...N}),h("div",{className:s(e.flex,e["flex-row"],e["items-center"]),ref:w,children:[n("input",{ref:R,id:f,type:"text",name:k||f,placeholder:D||d,value:L,disabled:t,className:s(e["pt-3"],e["pb-2"],e["w-full"],e["px-0"],e["mt-0"],e["bg-transparent"],e["border-gray-secondary"],e["border-0"],e["border-b"],e["appearance-none"],e["focus:outline-none"],e["focus:ring-0"],e["font-arimaRegular"],e["text-md"],t&&e["cursor-not-allowed"],t&&e["opacity-50"],u&&e["border-red-500"]),onClick:()=>{t||c(!o)},onChange:z,...C}),!o&&n(b,{nameIcon:"MdKeyboardArrowDown",propsIcon:{size:"24",color:"#000000"},onClick:()=>{t||c(!o)}}),o&&n(b,{nameIcon:"MdKeyboardArrowUp",propsIcon:{size:"24",color:"#000000"},onClick:()=>{t||c(!o)}})]}),o&&n("div",{className:s(e["z-10"],e["w-full"],e.absolute,e["text-base"],e["list-none"],e["bg-white"],e.rounded,e["divide-y"],e["divide-gray-100"],e.shadow,e["dark:bg-gray-700"]),children:n("ul",{className:e["py-1"],children:j?.map((r,a)=>n("li",{className:s(e.block,e["py-2"],e["px-4"],e["text-md"],e["hover:bg-gray-100"],e["dark:hover:bg-gray-600"],e["dark:text-gray-200"],e["font-arimaRegular"],e["cursor-pointer"]),onClick:()=>{t||E(r)},children:r},a))})}),u&&n("span",{className:s(e["text-red"],e["text-4xs"]),id:"error",children:u||`${d||"Field"} is required`})]})});DropdownInput.displayName="DropdownInput";
