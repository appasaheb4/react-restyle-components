"use strict";import{jsx as a,jsxs as p,Fragment as g}from"react/jsx-runtime";import _,{useState as B,useEffect as C}from"react";import{Label as q}from"../../../core-components/atoms/Label/Label";import{Icon as N}from"../../Icon/Icon";import e from"../../../tc.module.css";import{cn as t}from"../../../utils";export const RadioInput=_.forwardRef(({id:o,label:m,error:x,required:b,value:w,onChange:i,disabled:s,radioOptions:l=[],name:j,className:v,labelProps:y,...$},F)=>{const[n,k]=B(l);C(()=>{l&&k(l)},[l]);const f=n[0],u=f&&("title"in f||"checked"in f),h=c=>{if(u){const r=n.map((d,L)=>L===c?{...d,checked:!0}:{...d,checked:!1});k(r),i&&i(r.find(d=>d.checked))}else{const r=n[c];i&&r?.value&&i(r.value)}},R=()=>a(g,{children:n.map((c,r)=>a("div",{className:t(e.flex,e["items-center"],e["mb-1"],!s&&e["cursor-pointer"],s&&e["cursor-not-allowed"],s&&e["opacity-50"],v),onClick:()=>{s||h(r)},children:p("div",{className:t(e.flex,e["flex-row"],e["gap-1"],e["items-center"]),children:[c.checked?a(N,{nameIcon:"ImRadioChecked"}):a(N,{nameIcon:"ImRadioUnchecked"}),a("span",{className:t(e["text-4xs"]),children:c.title})]})},r))}),I=()=>a(g,{children:n.map((c,r)=>p("div",{className:t(e.flex,e["items-center"],e["gap-2"],e["mb-2"]),onClick:()=>{!s&&c.value&&h(r)},children:[a("input",{ref:F,type:"radio",id:`${o}-${r}`,name:j||o,value:c.value,checked:w===c.value,onChange:()=>{c.value&&h(r)},disabled:s,className:t(e["w-4"],e["h-4"],e["text-blue-600"],e["bg-gray-100"],e["border-gray-300"],e["focus:ring-blue-500"],e["dark:focus:ring-blue-600"],e["dark:ring-offset-gray-800"],e["focus:ring-2"],e["dark:bg-gray-700"],e["dark:border-gray-600"]),...$}),a("label",{htmlFor:`${o}-${r}`,className:t(e["cursor-pointer"]),children:c.label})]},r))});return p("div",{className:t(e["w-full"],v),children:[m&&a(q,{id:o,required:b,label:m,...y,children:u?R():I()}),!m&&a(g,{children:u?R():I()}),x&&a("p",{className:t(e["mt-1"],e["text-sm"],e["text-red-600"],e["dark:text-red-400"]),children:x})]})});RadioInput.displayName="RadioInput";
