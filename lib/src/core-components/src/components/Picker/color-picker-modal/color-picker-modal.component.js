"use strict";import{jsx as e,jsxs as s,Fragment as w}from"react/jsx-runtime";import{useCallback as d,useRef as y,useState as h,useEffect as O}from"react";import{HexColorPicker as _}from"react-colorful";import{useClickOutside as j}from"../../../hooks";import{TooltipProvider as T,Tooltip as L}from"../../Tooltip";import{DEFAULT_BG_COLOR as c,DEFAULT_TEXT_COLOR as R,STANDARD_COLORS as S}from"../../../helpers/constants";import"./color-picker-modal.css";export const ColorPickerModal=({color:n,isVisible:x=!1,testId:v="color-picker",tooltip:k="",tooltipSide:g="bottom",onChange:l,onNoFill:m,onClose:f})=>{const u=y(),[o,r]=h(n),[a,p]=h(x),i=d(()=>{a&&(p(!1),f&&f(o))},[a,f,o]);j(u,i),O(()=>{a||r(n||c)},[n,a]);const C=d(t=>{r(t),l(t)},[l]),N=d(t=>{r(t),l(t),i()},[l,i]),b=d(()=>{m&&m(c,R),r(c),l(c),i()},[m,l,i]);return s("div",{className:"picker-modal","data-testid":v,children:[e(T,{children:e(L,{content:k,className:"text-white bg-black p-2",side:g,children:e("div",{"data-testid":"swatch",className:`${o!==""?"swatch-modal":"swatch-modal diagonal-line"} z-10`,style:{backgroundColor:o},onClick:()=>p(!0)})})}),a&&s(w,{children:[e("div",{className:"flex justify-center items-center  overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none ",children:e("div",{className:"relative w-auto h-auto mx-auto my-auto bg-white rounded-md",children:e("div",{className:"border-0 rounded-lg  relative flex flex-col w-full outline-none focus:outline-none",children:s("div",{className:"flex flex-col  w-full gap-4 justify-center items-center p-4 rounded-lg shadow-lg z-99 color-picker-modal",ref:u,children:[e(_,{"data-testid":"colorPicker",color:o,onChange:C}),s("div",{className:"flex flex-col mt-4",children:[e("span",{className:"font-serif",children:"Standard Colors"}),e("div",{className:"flex gap-2 mt-2",children:S?.map(t=>e("div",{className:"rounded-full w-8 h-8 cursor-pointer gap-2",style:{backgroundColor:t},onClick:()=>N(t),"data-testid":`standard-color-${t}`},t))})]}),e("div",{className:"flex justify-center bg-blue-600 mt-2 rounded-md p-2 mx-8 text-white hover:bg-blue-800 transition duration-300 ease-in-out hover:shadow-lg cursor-pointer",onClick:b,"data-testid":"no-fill",children:e("span",{className:"font-serif",children:"No Fill"})})]})})})}),e("div",{className:"opacity-25 fixed inset-0 z-40 bg-black"})]})]})};
