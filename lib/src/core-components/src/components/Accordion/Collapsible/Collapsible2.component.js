"use strict";import{jsx as n,jsxs as C}from"react/jsx-runtime";import{useState as u,useRef as F,useEffect as M}from"react";const W=({isOpen:s,duration:a,variant:r})=>{const i=(()=>{switch(r){case"elevated":return{bg:"rgba(255,255,255,0.2)",stroke:"#ffffff"};case"glass":return{bg:"rgba(99,102,241,0.15)",stroke:"#6366f1"};case"bordered":return{bg:"#f3f4f6",stroke:"#374151"};case"minimal":return{bg:"transparent",stroke:"#6b7280"};default:return{bg:"#e0e7ff",stroke:"#4f46e5"}}})();return n("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",width:32,height:32,borderRadius:"50%",backgroundColor:i.bg,transition:`all ${a}ms cubic-bezier(0.4, 0, 0.2, 1)`,transform:s?"rotate(180deg)":"rotate(0deg)",flexShrink:0},children:n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:i.stroke,strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:n("polyline",{points:"6 9 12 15 18 9"})})})},A=(s,a)=>{const r={display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",padding:"16px 20px",fontSize:"15px",fontWeight:600,textAlign:"left",border:"none",cursor:"pointer",outline:"none",gap:"12px"},e={padding:"20px"};switch(s){case"bordered":return{container:{borderRadius:16,border:"1px solid #e5e7eb",overflow:"hidden",backgroundColor:"#ffffff"},button:{...r,backgroundColor:"#ffffff",color:"#1f2937",borderBottom:a?"1px solid #e5e7eb":"none"},content:{...e,backgroundColor:"#fafafa"}};case"elevated":return{container:{borderRadius:20,overflow:"hidden",boxShadow:"0 10px 40px -10px rgba(99, 102, 241, 0.4)"},button:{...r,background:"linear-gradient(135deg, #6366f1 0%, #8b5cf6 50%, #a855f7 100%)",color:"#ffffff"},content:{...e,backgroundColor:"#ffffff"}};case"minimal":return{container:{borderRadius:12},button:{...r,backgroundColor:"transparent",color:"#374151",padding:"12px 16px"},content:{...e,backgroundColor:"transparent",padding:"12px 16px"}};case"glass":return{container:{borderRadius:20,overflow:"hidden",backgroundColor:"rgba(255, 255, 255, 0.7)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.3)",boxShadow:"0 8px 32px rgba(99, 102, 241, 0.15)"},button:{...r,backgroundColor:"transparent",color:"#1f2937"},content:{...e,backgroundColor:"rgba(249, 250, 251, 0.5)"}};default:return{container:{borderRadius:16,overflow:"hidden",backgroundColor:"#ffffff",boxShadow:"0 4px 20px -4px rgba(0, 0, 0, 0.1)",border:"1px solid #f3f4f6"},button:{...r,backgroundColor:"#f8fafc",color:"#1e293b",borderBottom:a?"1px solid #e2e8f0":"none"},content:{...e,backgroundColor:"#ffffff"}}}};export const Collapsible=({label:s,labelClassName:a,className:r,classNames:e={},styles:i={},variant:l="default",animationDuration:c=300,defaultOpen:m=!1,isOpen:g,hideIcon:w=!1,icon:y,onExpand:j,onCollapse:z,children:p})=>{const h=g!==void 0,[H,R]=u(m),t=h?g:H,x=F(null),[S,B]=u(0),[I,f]=u(!1);M(()=>{const o=x.current;if(!o)return;const b=()=>{if(o){const L=o.scrollHeight;B(L)}};b();const k=new ResizeObserver(()=>{b()});k.observe(o);const v=new MutationObserver(()=>{requestAnimationFrame(b)});return v.observe(o,{childList:!0,subtree:!0,attributes:!0,characterData:!0}),()=>{k.disconnect(),v.disconnect()}},[p]);const O=()=>{const o=typeof s=="string"?s:"";t?z?.(o):j?.(o),h||R(!t)},d=A(l,t),$=()=>{if(!I)return{};switch(l){case"elevated":return{filter:"brightness(1.1)"};case"bordered":return{backgroundColor:"#f9fafb"};case"minimal":return{backgroundColor:"#f3f4f6"};case"glass":return{backgroundColor:"rgba(99, 102, 241, 0.05)"};default:return{backgroundColor:"#f1f5f9"}}};return C("div",{className:e.container,style:{display:"flex",flexDirection:"column",width:"100%",transition:`all ${c}ms cubic-bezier(0.4, 0, 0.2, 1)`,...d.container,...i.container},children:[C("button",{className:[a,e.button].filter(Boolean).join(" "),style:{...d.button,...$(),transition:`all ${c}ms cubic-bezier(0.4, 0, 0.2, 1)`,...i.button},type:"button",onClick:O,onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1),onFocus:()=>f(!0),onBlur:()=>f(!1),"aria-expanded":t,children:[n("span",{style:{flex:1,lineHeight:1.5},children:s}),!w&&n("div",{className:e.iconWrapper,children:y||n(W,{isOpen:t,duration:c,variant:l})})]}),n("div",{style:{height:t?S:0,overflow:"hidden",transition:`height ${c}ms cubic-bezier(0.4, 0, 0.2, 1), opacity ${c}ms cubic-bezier(0.4, 0, 0.2, 1)`,opacity:t?1:0},children:n("div",{ref:x,className:[r,e.content].filter(Boolean).join(" "),style:{...d.content,transform:t?"translateY(0)":"translateY(-10px)",transition:`transform ${c}ms cubic-bezier(0.4, 0, 0.2, 1)`,...i.content},children:p})})]})};
