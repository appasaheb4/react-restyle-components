"use strict";"use client";import{jsxs as i,jsx as e}from"react/jsx-runtime";import h,{useContext as T,useRef as b,useState as B,useEffect as D}from"react";import{ButtonElement as E,AccordionSectionWrapper as k,AccordionSectionContent as w,AccordionDivider as z,AccordionSectionContentWrapper as F,AccordionFade as W}from"./elements";import{Header as o}from"./Header";import{Icon as _}from"../../Icon/Icon";import{useCurrentAccordionIndex as P}from"./hooks/useCurrentAccordionIndex";import q from"./AccordionContext";import{StateLayer as G}from"../../../core-components";import{attachSubComponents as J,separateChildrenByType as K,usePropDeprecation as M}from"../../../utils";import{tokens as Q}from"../../../utils/designTokens";export const AccordionSection=J("AccordionSection",h.forwardRef(({buttonClassName:S="",headerClassName:$="",subheaderClassName:x="",iconWrapperClassName:A="",ariaLabel:v="",icons:r,children:C,header:g,subheader:a,startOpen:d=!1,transitionDuration:t=".3s",transitionTimingFunction:s="ease-in",onClick:I,onOpenStateChange:H,isOpen:c,...L},N)=>{M({name:"iconSrc",version:"5.0.0",alternative:"AccordionSection.Header.Leading and  AccordionSection.Header.Trailing",value:r});const{numbered:m,variant:l}=T(q),p=b(null),j=P(p),[n,f]=B(c??d);D(()=>{f(c??d)},[c]);const[u,y]=K(C,o),O=h.Children.count(u)!==0?u:i(o,{children:[m?e(o.Leading,{children:i(o.Number,{children:[j,"."]})}):r&&e(o.Leading,{alignment:"center",className:A,children:e(_,{nameIcon:r.nameIcon,propsIcon:{size:24,color:Q.white,...r.propsIcon||{}}})}),e(o.Heading,{className:$,children:g}),a&&e(o.SupportiveText,{className:x,children:a})]});return i(k,{$variant:l,$isOpen:n,"data-aui":"accordion.section",ref:p,children:[i(E,{ref:N,className:S,"aria-label":v,"aria-expanded":n,$variant:l,$isOpen:n,onClick:R=>{I?.(R),H?.(!n),f(!n)},...L,children:[e(G,{}),O]}),i(F,{$isOpen:n,$transitionDuration:t,$transitionTimingFunction:s,children:[e(w,{"aria-hidden":!n,$isOpen:n,$hasLeader:!!r||m,$transitionDuration:t,children:e("div",{style:{zIndex:-1,paddingBottom:10},children:y})}),e(W,{$isOpen:n,$transitionDuration:t,$transitionTimingFunction:s})]}),e(z,{})]})}),{Header:o});
