"use strict";import{jsx as s,jsxs as n}from"react/jsx-runtime";import{useEffect as b,useRef as v,useState as i}from"react";import e from"../../../tc.module.css";import{cn as r}from"../../../utils";import{Icon as d}from"../../Icon/Icon";export const MultiSelectionDropdown=({options:m=[],onSelect:w,onClear:p})=>{const[o,u]=i([]),[f,h]=i(!1),[a,x]=i(""),c=v(null);return b(()=>{const t=l=>{c.current&&!c.current.contains(l.target)&&h(!1)};return document.addEventListener("mousedown",t),()=>{document.removeEventListener("mousedown",t)}},[]),n("div",{className:r(e.relative),ref:c,children:[n("button",{onClick:()=>h(!f),className:r(e["w-full"],e.flex,e["justify-between"],e["items-center"],e["px-2"],e["py-2"],e.border,e["border-gray-300"],e["bg-white"],e["rounded-md"],e["shadow-sm"],e["focus:outline-none"]),children:[s("div",{className:r(e.flex,e["flex-wrap"],e["gap-2"]),children:o?.length>0?o?.map((t,l)=>s("span",{className:r(e["bg-blue-500"],e["text-white"],e["text-sm"],e["px-2"],e["py-1"],e.rounded),children:t},l?.toString())):s("span",{className:r(e["text-gray-500"]),children:"Select Items"})}),s(d,{nameIcon:"FaChevronDown",propsIcon:{color:"#ffffff",size:18}})]}),f&&n("div",{className:r(e.absolute,e["z-10"],e["w-full"],e["mt-1"],e["bg-white"],e.border,e["border-gray-300"],e["rounded-md"],e["shadow-lg"],e["max-h-60"],e["overflow-y-auto"]),children:[s("div",{className:r(e["p-2"],e["top-0"],e["bg-white"],e["z-10"],e["border-b"],e.relative),children:n("div",{className:r(e.flex,e["items-center"],e.border,e["border-gray-300"],e["rounded-md"]),children:[s("input",{type:"text",placeholder:"Search...",value:a,onChange:t=>x(t.target.value),className:r(e.flex,e["w-full"],e["p-2"],e["focus:outline-none"])}),o?.length>0&&s("button",{onClick:()=>{u([]),x(""),p&&p()},className:r(e.flex,e["w-fit"],e["pr-2"],e["text-sm"],e["hover:text-red"],e["whitespace-nowrap"]),children:"Clear Selection"})]})}),s("ul",{className:r(e["py-2"]),children:m?.filter(t=>t.toLowerCase().includes(a.toLowerCase()))?.length>0?m?.filter(t=>t.toLowerCase().includes(a.toLowerCase())).map((t,l)=>n("li",{onClick:()=>{u([...o,t]),w([...o,t])},className:r(e.flex,e["items-center"],e["justify-between"],e["px-4"],e["py-2"],e["cursor-pointer"],e["hover:bg-gray-100"]),children:[n("div",{className:r(e.flex,e["items-center"],e["gap-2"]),children:[s(d,{nameIcon:"FaAlignJustify",propsIcon:{color:"#000000",size:18}}),s("span",{children:t})]}),o?.some(g=>g===t)&&s(d,{nameIcon:"FaCheck",propsIcon:{color:"#000000",size:18}})]},l?.toString())):s("li",{className:r(e["px-4"],e["py-2"],e["text-gray-500"],e["text-sm"]),children:"No items found"})})]})]})};
