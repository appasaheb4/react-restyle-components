"use strict";import{jsx as o,jsxs as p,Fragment as v}from"react/jsx-runtime";import{useState as g,useEffect as b,useRef as O}from"react";import e from"../../../tc.module.css";import{cn as n}from"../../../utils";export const MultiSelect=({options:a=[],selectedItems:f=[],hasError:h=!1,classNames:t={},styles:r={},onSelect:w})=>{const[d,c]=g([]),[i,x]=g(!1),k=l=>{b(()=>{function s(u){l.current&&!l.current.contains(u.target)&&i&&x(!1)}return document.addEventListener("mousedown",s),()=>{document.removeEventListener("mousedown",s)}},[l,i])};b(()=>{c(f)},[f]);const m=O(null);return k(m),o(v,{children:p("div",{className:n(e.flex,e["dark:bg-boxdark"],e["dark:text-white"],e["flex-col"],e["w-full"],e["rounded-md"],e.border,{[e["border-red"]]:h,[e["border-gray-300"]]:!h},t.container),style:r.container,ref:m,children:[o("span",{className:n(e["p-2"],e["shadow-sm"],t.trigger),style:r.trigger,onClick:()=>{x(!i)},children:d?.length>0?d?.join(","):"Select"}),o("div",{className:n(e.flex,{[e.show]:i,[e.hidden]:!i},e.relative),children:a?a?.length>0&&o("div",{className:n(e.flex,e.absolute,e["rounded-sm"],e["w-full"],t.dropdown),style:{zIndex:999,...r.dropdown},children:o("ul",{className:n(e.flex,e["flex-col"],e["gap-1"],e["w-full"],e["bg-white"],e["shadow-md"],e["rounded-md"],e.border,e["border-gray-200"],e["list-none"],e["m-0"],e["p-0"],t.list),style:r.list,children:a?.map((l,s)=>o("li",{className:n(e.flex,e["gap-2"],e["p-2"],t.listItem),style:r.listItem,children:p("label",{className:n(e.flex,e["gap-2"],t.label),style:r.label,children:[o("input",{className:n(e.flex,e["h-4"],e["w-4"],t.checkbox),style:r.checkbox,type:"checkbox",checked:d?.includes(l),onChange:()=>{d?.includes(l)?c(d?.filter(u=>u!=l)):d?.length>0?c(d?.concat([l])):c([l])},onBlur:()=>{i||w(d)}}),o("span",{className:n(e.flex,e["h-4"],t.itemText),style:r.itemText,children:l})]})},s))})}):null})]})})};
