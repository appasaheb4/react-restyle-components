"use strict";import{useCallback as d,useEffect as f,useState as h}from"react";import{gapSizeValues as S,gapSizes as R}from"./types";const a={xs:0,sm:375,md:768,lg:1024,xl:1280,"2xl":1440};export const pxToRem=e=>e/16,remToPx=e=>e*16,getGapValue=e=>typeof e=="number"?R[e]||R[1]:S[e]||S.md;const b=(e,t)=>Math.floor(e/t)*t;export const calcColumns=({minWidth:e,elementWidth:t,gap:n,modulo:r,maxColumns:c,scrollHint:o=0})=>{if(t===0)return 1;const s=parseFloat(n),g=pxToRem(t),m=Math.min(Math.floor((g+s-e*o)/(e+s)),c);return Math.max(1,b(m,r))},getResponsiveColumns=(e,t)=>{let n=1;return e.xs!==void 0&&t>=a.xs&&(n=e.xs),e.sm!==void 0&&t>=a.sm&&(n=e.sm),e.md!==void 0&&t>=a.md&&(n=e.md),e.lg!==void 0&&t>=a.lg&&(n=e.lg),e.xl!==void 0&&t>=a.xl&&(n=e.xl),e["2xl"]!==void 0&&t>=a["2xl"]&&(n=e["2xl"]),n},useWindowWidth=()=>{const[e,t]=h(typeof window<"u"?window.innerWidth:1024);return f(()=>{if(typeof window>"u")return;const n=()=>{t(window.innerWidth)};return window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),e},useElementResize=(e,t)=>{f(()=>{const n=e.current;if(!n||(t(n.clientWidth,n.clientHeight),!window.ResizeObserver))return;const r=new ResizeObserver(c=>{window.requestAnimationFrame(()=>{const o=c[0];o&&t(o.contentRect.width,o.contentRect.height)})});return r.observe(n),()=>r.disconnect()},[e,t])},useScrollToKeyboardFocus=(e,t)=>{const n=d(r=>{const{target:c}=r;c instanceof HTMLElement&&t?.enabled&&r.key==="Tab"&&c.scrollIntoView({inline:"center",block:"nearest",behavior:t.smoothScroll!==!1?"smooth":"auto"})},[t]);f(()=>{const r=e.current;if(r)return r.addEventListener("keyup",n),()=>{r.removeEventListener("keyup",n)}},[n,e])},useScrollNavigation=(e,t,n)=>{const[r,c]=h({canScrollLeft:!1,canScrollRight:!0,currentPage:0}),o=Math.ceil(t/n);f(()=>{const l=e.current;if(!l)return;const i=()=>{const{scrollLeft:u,scrollWidth:p,clientWidth:x}=l,w=u>0,L=u+x<p-1,P=Math.round(u/x);c({canScrollLeft:w,canScrollRight:L,currentPage:P})};return l.addEventListener("scroll",i),i(),()=>l.removeEventListener("scroll",i)},[e]);const s=d(l=>{const i=e.current;if(!i)return;const{clientWidth:u}=i;i.scrollTo({left:l*u,behavior:"smooth"})},[e]),g=d(()=>{r.currentPage>0&&s(r.currentPage-1)},[r.currentPage,s]),m=d(()=>{r.currentPage<o-1&&s(r.currentPage+1)},[r.currentPage,o,s]);return{...r,totalPages:o,scrollTo:s,scrollLeft:g,scrollRight:m}},getItemCount=e=>e?Array.isArray(e)?e.filter(Boolean).length:1:0,generateGridId=()=>`grid-${Math.random().toString(36).substr(2,9)}`;
