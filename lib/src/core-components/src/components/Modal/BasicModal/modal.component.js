"use strict";import{jsx as a,jsxs as y,Fragment as Q}from"react/jsx-runtime";import{useEffect as x,useState as M}from"react";import e from"../../../tc.module.css";import{cn as r}from"../../../utils";export const Modal=({visible:h,title:d="",className:E="",contentClassName:Y="",headerClassName:$="",style:R={},contentStyle:W={},onClose:t,isAutoClose:s=!1,autoCloseDelay:b=1e3,size:f="md",position:c="center",showCloseButton:v=!0,closeButton:_,overlayOpacity:B=.5,overlayColor:F,closeOnOverlayClick:I=!0,closeOnEscape:w=!0,showHeader:N=!0,headerBgColor:S,headerTextColor:k,borderRadius:p="0.5rem",maxWidth:H,contentPadding:P="1rem",headerPadding:q="1rem",animationDuration:i=300,classNames:n={},styles:o={},children:z})=>{const[m,j]=M(h),[u,T]=M(!1);x(()=>{h?(j(!0),setTimeout(()=>T(!0),10)):(T(!1),setTimeout(()=>j(!1),i))},[h,i]),x(()=>{if(m&&s){const g=setTimeout(()=>{t&&t()},typeof s=="number"?s:b);return()=>clearTimeout(g)}},[m,s,b,t]),x(()=>{if(!w||!m)return;const l=g=>{g.key==="Escape"&&t&&t()};return document.addEventListener("keydown",l),()=>document.removeEventListener("keydown",l)},[m,w,t]);const L=l=>{I&&l.target===l.currentTarget&&t&&t()},G=()=>{t&&t()},J={sm:"28rem",md:"32rem",lg:"42rem",xl:"56rem",full:"95%"},K={center:e["items-center"],top:e["items-start"],bottom:e["items-end"]},O=H||(f!=="full"?J[f]:"95%");return m?y(Q,{children:[a("div",{className:r(e.fixed,e["inset-0"],e["z-40"],e["bg-black"],n.overlay),style:{opacity:u?B:0,transition:`opacity ${i}ms ease-in-out`,backgroundColor:F||void 0,...o.overlay},onClick:L}),a("div",{className:r(e.flex,e["justify-center"],K[c],e["overflow-x-hidden"],e["overflow-y-auto"],e.fixed,e["inset-0"],e["z-50"],e["outline-none"],e["focus:outline-none"],E,n.container),style:{...R,transition:`opacity ${i}ms ease-in-out`,opacity:u?1:0,...o.container},onClick:L,children:a("div",{className:r(e.relative,e["w-full"],e["my-5"],e["mx-auto"],n.wrapper),style:{maxWidth:O,marginLeft:f==="full"?"1rem":void 0,marginRight:f==="full"?"1rem":void 0,transform:u?c==="center"?"scale(1)":"translateY(0)":c==="center"?"scale(0.95)":c==="top"?"translateY(-20px)":"translateY(20px)",transition:`transform ${i}ms ease-out, opacity ${i}ms ease-out`,opacity:u?1:0,...o.wrapper},onClick:l=>l.stopPropagation(),children:y("div",{className:r(e["border-0"],e["shadow-xl"],e.relative,e.flex,e["flex-col"],e["bg-white"],e["outline-none"],e["focus:outline-none"],Y,n.content),style:{borderRadius:p,...W,...o.content},children:[N&&y("div",{className:r(e.flex,e["items-center"],e["justify-between"],e["border-b"],e["border-solid"],e["border-gray-200"],$,n.header),style:{padding:q,backgroundColor:S,borderTopLeftRadius:p,borderTopRightRadius:p,borderBottom:d||v?void 0:"none",...o.header},children:[d&&a("h3",{className:r(e["text-xl"],e["font-semibold"],e["m-0"],e["flex-1"],n.title),style:{color:k,...o.title},children:d}),v&&a("button",{type:"button",className:r(e["p-1"],e["ml-4"],e["border-0"],e["bg-transparent"],e["cursor-pointer"],e["outline-none"],e["focus:outline-none"],e["transition-colors"],e["hover:bg-gray-100"],e.rounded,n.closeButton),onClick:G,"aria-label":"Close modal",style:{marginLeft:d?"1rem":0,marginRight:d?0:"auto",...o.closeButton},children:_||a("span",{className:r(e.block,e["text-2xl"],e["leading-none"],e["font-light"]),style:{color:k||"#1f2937",height:"1.5rem",width:"1.5rem",display:"flex",alignItems:"center",justifyContent:"center",lineHeight:1},children:"\xD7"})})]}),a("div",{className:r(e.flex,e["flex-col"],e["w-full"],e["h-auto"],e["overflow-y-auto"],n.body),style:{padding:P,...o.body},children:z})]})})})]}):null};
