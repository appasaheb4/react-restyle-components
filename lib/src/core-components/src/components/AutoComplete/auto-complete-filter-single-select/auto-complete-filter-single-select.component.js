"use strict";import{jsx as n,jsxs as x,Fragment as j}from"react/jsx-runtime";import{useState as f,useEffect as h,useRef as k}from"react";import{Icon as y}from"../../Icon/Icon";import{debounce as K}from"@techabl/core-utils";import e from"../../../tc.module.css";import{cn as i}from"../../../utils";export const AutoCompleteFilterSingleSelect=({disable:I=!1,loader:R=!1,displayValue:d="",placeholder:C="Search...",data:s,hasError:g=!1,classNames:t={},styles:o={},onFilter:L,onSelect:F})=>{const[b,a]=f(d),[u,w]=f(),[c,p]=f(!1),O=r=>{h(()=>{function l(m){r.current&&!r.current.contains(m.target)&&c&&(p(!1),a(""))}return document.addEventListener("mousedown",l),()=>{document.removeEventListener("mousedown",l)}},[r,c])},v=k(null);O(v),h(()=>{w(s.list)},[s]),h(()=>{a(d)},[d]);const S=r=>{const l=r.target.value;a(l);const m=s.list.filter(z=>z[s.displayKey].toLowerCase().includes(l.toLowerCase()));w(m),K(()=>{L(l)})};return n(j,{children:x("div",{ref:v,className:i(e["w-full"],e.relative,t.container),style:o.container,children:[x("div",{className:i(e.flex,e["items-center"],e["leading-4"],e["p-2"],e["focus:outline-none"],e["focus:ring"],e["w-full"],e["shadow-sm"],e["sm:text-base"],e.border,e["rounded-md"],{[e["border-red"]]:g,[e["border-gray-300"]]:!g},t.inputWrapper),style:o.inputWrapper,children:[n("input",{placeholder:C,value:b,className:i(e["w-full"],e["focus:outline-none"],e["bg-none"],t.input),style:o.input,onChange:S,onClick:()=>p(!0),disabled:I}),n("span",{className:t.icon,style:o.icon,children:c?n(y,{nameIcon:"FaChevronUp",propsIcon:{size:16}}):n(y,{nameIcon:"FaChevronDown",propsIcon:{size:16}})})]}),u&&c?u.length>0?n("div",{className:i(e["mt-1"],e.absolute,e["bg-gray-100"],e["p-2"],e["rounded-sm"],e["z-50"],t.dropdown),style:{zIndex:80,width:"100%",...o.dropdown},children:n("ul",{className:t.list,style:o.list,children:u?.map((r,l)=>n("li",{className:i(e["text-gray-400"],e.flex,e["items-center"],t.listItem),style:o.listItem,onClick:()=>{a(r[s.displayKey]),p(!1),F(r)},children:n("label",{className:i(e["ml-2"],e["mt-1"],e["text-black"],t.itemLabel),style:o.itemLabel,children:r[s.displayKey]})},l))})}):n("div",{className:i(e["mt-1"],e.absolute,e["bg-gray-100"],e["p-2"],e["rounded-sm"],t.emptyState),style:{zIndex:80,width:"100%",...o.emptyState},children:n("span",{children:"Not Found Result!!"})}):null]})})};
