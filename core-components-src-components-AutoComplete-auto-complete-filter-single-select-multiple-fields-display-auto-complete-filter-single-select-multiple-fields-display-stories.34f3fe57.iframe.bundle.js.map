{"version":3,"file":"core-components-src-components-AutoComplete-auto-complete-filter-single-select-multiple-fields-display-auto-complete-filter-single-select-multiple-fields-display-stories.34f3fe57.iframe.bundle.js","mappings":";;;AAWA;;;;AAIA;AAGA;;;;AAMA;;;;;AAOA;;;;;AAOA;;;;;;;;AAQA;AACA;;;;;;;;AAQA;AACA;;;;;;;;;;;;AAeA","sources":["webpack://react-restyle-components/./src/core-components/src/components/AutoComplete/auto-complete-filter-single-select-multiple-fields-display/auto-complete-filter-single-select-multiple-fields-display.stories.tsx"],"sourcesContent":["import React, {useState, useEffect, useCallback} from 'react';\nimport type {Meta, StoryObj} from '@storybook/react';\nimport {action} from '@storybook/addon-actions';\nimport {styled, keyframes} from 'styled-components';\nimport {AutoCompleteFilterSingleSelectMultiFieldsDisplay} from './auto-complete-filter-single-select-multiple-fields-display.component';\n\nconst fadeIn = keyframes`\n  from { opacity: 0; transform: translateY(-10px); }\n  to { opacity: 1; transform: translateY(0); }\n`;\n\nconst Wrapper = styled.div`\n  width: 100%;\n  padding: 20px;\n  max-width: 600px;\n  animation: ${fadeIn} 0.3s ease-out;\n`;\n\nconst StoryContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 24px;\n`;\n\nconst StoryLabel = styled.div`\n  font-size: 14px;\n  font-weight: 600;\n  color: #374151;\n  margin-bottom: 8px;\n`;\n\nconst StoryDescription = styled.p`\n  font-size: 13px;\n  color: #6b7280;\n  margin: 8px 0 16px 0;\n  line-height: 1.5;\n`;\n\nconst StatusBadge = styled.span<{$isLoading?: boolean}>`\n  display: inline-flex;\n  align-items: center;\n  gap: 6px;\n  padding: 4px 12px;\n  border-radius: 16px;\n  font-size: 12px;\n  font-weight: 500;\n  background: ${(props) => (props.$isLoading ? '#fef3c7' : '#d1fae5')};\n  color: ${(props) => (props.$isLoading ? '#92400e' : '#065f46')};\n  margin-bottom: 12px;\n\n  &::before {\n    content: '';\n    width: 8px;\n    height: 8px;\n    border-radius: 50%;\n    background: ${(props) => (props.$isLoading ? '#f59e0b' : '#10b981')};\n    animation: ${(props) => (props.$isLoading ? 'pulse 1s infinite' : 'none')};\n  }\n\n  @keyframes pulse {\n    0%,\n    100% {\n      opacity: 1;\n    }\n    50% {\n      opacity: 0.5;\n    }\n  }\n`;\n\n// Sample data sets\nconst cameraData = [\n  {code: 'CAM001', name: 'Main Entrance Camera'},\n  {code: 'CAM002', name: 'Lobby Camera'},\n  {code: 'CAM003', name: 'Parking Lot Camera'},\n  {code: 'CAM004', name: 'Warehouse Camera'},\n  {code: 'CAM005', name: 'Office Floor Camera'},\n  {code: 'CAM006', name: 'Reception Camera'},\n  {code: 'CAM007', name: 'Server Room Camera'},\n  {code: 'CAM008', name: 'Backyard Camera'},\n  {code: 'CAM009', name: 'Loading Dock Camera'},\n  {code: 'CAM010', name: 'Conference Room Camera'},\n];\n\nconst employeeData = [\n  {id: 'EMP001', name: 'John Smith', department: 'Engineering'},\n  {id: 'EMP002', name: 'Sarah Johnson', department: 'Marketing'},\n  {id: 'EMP003', name: 'Mike Wilson', department: 'Sales'},\n  {id: 'EMP004', name: 'Emily Brown', department: 'HR'},\n  {id: 'EMP005', name: 'David Lee', department: 'Finance'},\n  {id: 'EMP006', name: 'Lisa Anderson', department: 'Design'},\n  {id: 'EMP007', name: 'James Taylor', department: 'Operations'},\n  {id: 'EMP008', name: 'Jennifer Martin', department: 'Legal'},\n];\n\nconst meta: Meta<typeof AutoCompleteFilterSingleSelectMultiFieldsDisplay> = {\n  title:\n    'Components/AutoComplete/AutoCompleteFilterSingleSelectMultiFieldsDisplay',\n  component: AutoCompleteFilterSingleSelectMultiFieldsDisplay,\n  tags: ['autodocs'],\n  parameters: {\n    componentSubtitle: `import { AutoCompleteFilterSingleSelectMultiFieldsDisplay } from 'react-restyle-components'`,\n    layout: 'centered',\n    docs: {\n      description: {\n        component: `\nThis component provides an autocomplete dropdown for filtering and selecting a single item from multiple fields.\n\n### Features\n- **Smooth animations**: Dropdown opens/closes with elegant transitions\n- **Staggered list items**: Items appear with cascading animation effect  \n- **Loading skeleton**: Beautiful skeleton loader while data is being fetched\n- **Hover effects**: Subtle feedback on item hover\n- **Filter transitions**: Smooth fade during rapid filtering\n\n### onFilter example:\n\\`\\`\\`tsx\nonFilter: (value: string) => {\n  companyStore.companyService.filterByFields({\n    input: {\n      filter: {\n        fields: ['code', 'name'],\n        srText: value,\n      },\n      page: 0,\n      limit: 10,\n    },\n  });\n},\n\\`\\`\\`\n        `,\n      },\n    },\n  },\n  decorators: [\n    (Story) => (\n      <Wrapper>\n        <Story />\n      </Wrapper>\n    ),\n  ],\n};\n\nexport default meta;\ntype Story = StoryObj<typeof AutoCompleteFilterSingleSelectMultiFieldsDisplay>;\n\n// Documentation/Overview story (appears first)\nexport const Documentation: Story = {\n  name: 'Documentation',\n  args: {\n    loader: false,\n    placeholder: 'Search by code or name...',\n    hasError: false,\n    displayValue: '',\n    data: {\n      list: cameraData.slice(0, 3),\n      displayKey: ['code', 'name'],\n    },\n    onFilter: (value: string) => {\n      action('onFilter')(value);\n    },\n    onSelect: (item) => {\n      action('onSelect')(item);\n    },\n  },\n  parameters: {\n    docs: {\n      source: {\n        code: `\nimport { AutoCompleteFilterSingleSelectMultiFieldsDisplay } from 'react-restyle-components';\n\n<AutoCompleteFilterSingleSelectMultiFieldsDisplay\n  loader={false}\n  placeholder=\"Search by code or name...\"\n  hasError={false}\n  displayValue=\"\"\n  data={{\n    list: [\n      {code: 'CAM001', name: 'Main Entrance Camera'},\n      {code: 'CAM002', name: 'Lobby Camera'},\n      {code: 'CAM003', name: 'Parking Lot Camera'},\n    ],\n    displayKey: ['code', 'name'],\n  }}\n  onFilter={(value) => console.log(value)}\n  onSelect={(item) => console.log(item)}\n/>\n        `,\n        language: 'tsx',\n      },\n      description: {\n        story:\n          'Overview of the AutoCompleteFilterSingleSelectMultiFieldsDisplay component with smooth animations and transitions.',\n      },\n    },\n    order: 0,\n  },\n};\n\nexport const Basic: Story = {\n  args: {\n    loader: false,\n    placeholder: 'Search by code or name...',\n    hasError: false,\n    displayValue: '',\n    data: {\n      list: cameraData,\n      displayKey: ['code', 'name'],\n    },\n    onFilter: (value: string) => {\n      console.log('Filtering with:', value);\n      action('onFilter')(value);\n    },\n    onSelect: (item) => {\n      console.log({item});\n      action('onSelect')(item);\n    },\n  },\n  render: (args) => (\n    <StoryContainer>\n      <StoryDescription>\n        Click the input to see the smooth dropdown animation. Hover over items\n        to see the highlight effect. Items appear with a staggered animation.\n      </StoryDescription>\n      <AutoCompleteFilterSingleSelectMultiFieldsDisplay {...args} />\n    </StoryContainer>\n  ),\n};\n\n// Loading state story\nexport const LoadingState: Story = {\n  name: 'Loading State',\n  args: {\n    loader: true,\n    placeholder: 'Loading data...',\n    hasError: false,\n    displayValue: '',\n    data: {\n      list: [],\n      displayKey: ['code', 'name'],\n    },\n  },\n  render: (args) => (\n    <StoryContainer>\n      <StoryLabel>Skeleton Loading Animation</StoryLabel>\n      <StoryDescription>\n        Shows a beautiful skeleton loading animation while data is being\n        fetched. The shimmer effect provides visual feedback that content is\n        loading.\n      </StoryDescription>\n      <StatusBadge $isLoading>Loading data...</StatusBadge>\n      <AutoCompleteFilterSingleSelectMultiFieldsDisplay {...args} />\n    </StoryContainer>\n  ),\n  parameters: {\n    docs: {\n      description: {\n        story:\n          'Demonstrates the skeleton loading state with shimmer animation. Click the input to see the loading skeleton.',\n      },\n    },\n  },\n};\n\n// Simulated API Loading story\nconst SimulatedLoadingComponent = () => {\n  const [isLoading, setIsLoading] = useState(false);\n  const [data, setData] = useState<any[]>([]);\n\n  const simulateApiCall = useCallback((searchValue: string) => {\n    setIsLoading(true);\n    action('API call started')(searchValue);\n\n    // Simulate network delay (800-1500ms)\n    const delay = 800 + Math.random() * 700;\n\n    setTimeout(() => {\n      const filtered = cameraData.filter(\n        (item) =>\n          item.code.toLowerCase().includes(searchValue.toLowerCase()) ||\n          item.name.toLowerCase().includes(searchValue.toLowerCase())\n      );\n      setData(filtered);\n      setIsLoading(false);\n      action('API call completed')({results: filtered.length});\n    }, delay);\n  }, []);\n\n  // Initial load\n  useEffect(() => {\n    simulateApiCall('');\n  }, [simulateApiCall]);\n\n  return (\n    <StoryContainer>\n      <StoryLabel>Simulated API Loading</StoryLabel>\n      <StoryDescription>\n        Type in the input to trigger a simulated API call. Watch the smooth\n        transition between loading and loaded states. The spinner appears during\n        fetch, and results animate in when ready.\n      </StoryDescription>\n      <StatusBadge $isLoading={isLoading}>\n        {isLoading ? 'Fetching results...' : `${data.length} results loaded`}\n      </StatusBadge>\n      <AutoCompleteFilterSingleSelectMultiFieldsDisplay\n        loader={isLoading}\n        placeholder=\"Type to search (simulates API call)...\"\n        data={{\n          list: data,\n          displayKey: ['code', 'name'],\n        }}\n        onFilter={simulateApiCall}\n        onSelect={(item) => action('Selected')(item)}\n      />\n    </StoryContainer>\n  );\n};\n\nexport const SimulatedApiLoading: Story = {\n  name: 'Simulated API Loading',\n  render: () => <SimulatedLoadingComponent />,\n  parameters: {\n    docs: {\n      description: {\n        story:\n          'Interactive demo showing realistic API loading behavior. Each keystroke triggers a simulated API call with random delay.',\n      },\n    },\n  },\n};\n\n// Rapid filtering story\nconst RapidFilteringComponent = () => {\n  const [filterCount, setFilterCount] = useState(0);\n  const [lastFilter, setLastFilter] = useState('');\n\n  return (\n    <StoryContainer>\n      <StoryLabel>Rapid Filtering Animation</StoryLabel>\n      <StoryDescription>\n        Type quickly to see smooth transitions between filter states. The\n        component debounces rapid input and animates between result sets\n        gracefully.\n      </StoryDescription>\n      <div style={{marginBottom: '12px', fontSize: '13px', color: '#6b7280'}}>\n        Filter count: <strong>{filterCount}</strong>\n        {lastFilter && (\n          <>\n            {' '}\n            | Last filter: <code>{lastFilter}</code>\n          </>\n        )}\n      </div>\n      <AutoCompleteFilterSingleSelectMultiFieldsDisplay\n        placeholder=\"Type rapidly to test filtering...\"\n        data={{\n          list: cameraData,\n          displayKey: ['code', 'name'],\n        }}\n        onFilter={(value) => {\n          setFilterCount((c) => c + 1);\n          setLastFilter(value);\n          action('Rapid filter')(value);\n        }}\n        onSelect={(item) => action('Selected')(item)}\n      />\n    </StoryContainer>\n  );\n};\n\nexport const RapidFiltering: Story = {\n  name: 'Rapid Filtering',\n  render: () => <RapidFilteringComponent />,\n  parameters: {\n    docs: {\n      description: {\n        story:\n          'Tests the animation behavior during rapid typing. The component smoothly transitions between filter results.',\n      },\n    },\n  },\n};\n\n// Large dataset story\nconst largeDataset = Array.from({length: 50}, (_, i) => ({\n  code: `ITEM${String(i + 1).padStart(3, '0')}`,\n  name: `Product Item ${i + 1} - ${['Electronics', 'Clothing', 'Home', 'Sports', 'Books'][i % 5]}`,\n  category: ['Electronics', 'Clothing', 'Home', 'Sports', 'Books'][i % 5],\n}));\n\nexport const LargeDataset: Story = {\n  name: 'Large Dataset (50 items)',\n  args: {\n    loader: false,\n    placeholder: 'Search 50 items...',\n    hasError: false,\n    displayValue: '',\n    data: {\n      list: largeDataset,\n      displayKey: ['code', 'name'],\n    },\n    onFilter: action('onFilter'),\n    onSelect: action('onSelect'),\n  },\n  render: (args) => (\n    <StoryContainer>\n      <StoryLabel>Large Dataset Performance</StoryLabel>\n      <StoryDescription>\n        Demonstrates smooth staggered animation with 50 items. The animation is\n        capped to prevent performance issues while maintaining visual appeal.\n      </StoryDescription>\n      <AutoCompleteFilterSingleSelectMultiFieldsDisplay {...args} />\n    </StoryContainer>\n  ),\n  parameters: {\n    docs: {\n      description: {\n        story:\n          'Shows animation performance with a large dataset. Stagger timing is optimized to cap at 300ms total.',\n      },\n    },\n  },\n};\n\n// Multi-field display story\nexport const MultiFieldDisplay: Story = {\n  name: 'Multi-Field Display',\n  args: {\n    loader: false,\n    placeholder: 'Search by ID, name, or department...',\n    hasError: false,\n    displayValue: '',\n    data: {\n      list: employeeData,\n      displayKey: ['id', 'name', 'department'],\n    },\n    onFilter: action('onFilter'),\n    onSelect: action('onSelect'),\n  },\n  render: (args) => (\n    <StoryContainer>\n      <StoryLabel>Three-Field Display</StoryLabel>\n      <StoryDescription>\n        Shows how the component handles multiple display fields (ID, Name,\n        Department). All fields are searchable and displayed with separator.\n      </StoryDescription>\n      <AutoCompleteFilterSingleSelectMultiFieldsDisplay {...args} />\n    </StoryContainer>\n  ),\n  parameters: {\n    docs: {\n      description: {\n        story:\n          'Demonstrates the component with three display fields, showing versatility in data presentation.',\n      },\n    },\n  },\n};\n\n// Error state story\nexport const ErrorState: Story = {\n  name: 'Error State',\n  args: {\n    loader: false,\n    placeholder: 'Search...',\n    hasError: true,\n    displayValue: '',\n    data: {\n      list: cameraData.slice(0, 3),\n      displayKey: ['code', 'name'],\n    },\n    onFilter: action('onFilter'),\n    onSelect: action('onSelect'),\n  },\n  render: (args) => (\n    <StoryContainer>\n      <StoryLabel>Error/Validation State</StoryLabel>\n      <StoryDescription>\n        Shows the component with error styling. The red border indicates a\n        validation error while maintaining all animation behavior.\n      </StoryDescription>\n      <AutoCompleteFilterSingleSelectMultiFieldsDisplay {...args} />\n    </StoryContainer>\n  ),\n};\n\n// Empty state story\nexport const EmptyResults: Story = {\n  name: 'Empty Results',\n  args: {\n    loader: false,\n    placeholder: 'Search for \"xyz\" to see empty state...',\n    hasError: false,\n    displayValue: '',\n    data: {\n      list: [],\n      displayKey: ['code', 'name'],\n    },\n    onFilter: action('onFilter'),\n    onSelect: action('onSelect'),\n  },\n  render: (args) => (\n    <StoryContainer>\n      <StoryLabel>Empty Results State</StoryLabel>\n      <StoryDescription>\n        When no results match the search, a friendly \"No results found\" message\n        is displayed with a fade-in animation.\n      </StoryDescription>\n      <AutoCompleteFilterSingleSelectMultiFieldsDisplay {...args} />\n    </StoryContainer>\n  ),\n};\n"],"names":[],"sourceRoot":""}