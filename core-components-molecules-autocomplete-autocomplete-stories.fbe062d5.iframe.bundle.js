"use strict";(self.webpackChunkreact_restyle_components=self.webpackChunkreact_restyle_components||[]).push([[545],{"./src/core-components/molecules/autocomplete/autocomplete.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Basic:()=>Basic,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/react/index.js");const __WEBPACK_DEFAULT_EXPORT__={title:"Design System/Molecules/Autocomplete",component:__webpack_require__("./src/core-components/molecules/autocomplete/autocomplete.tsx").j,tags:["autodocs"],parameters:{componentSubtitle:"import { Autocomplete } from 'react-restyle-components'"}},Basic={args:{value:"",onValueChange:()=>{},options:["One","Two","Three","Four"]}},__namedExportsOrder=["Basic"];Basic.parameters={...Basic.parameters,docs:{...Basic.parameters?.docs,source:{originalSource:"{\n  args: {\n    value: '',\n    onValueChange: () => {},\n    options: ['One', 'Two', 'Three', 'Four']\n  }\n}",...Basic.parameters?.docs?.source}}}},"./src/core-components/molecules/autocomplete/autocomplete.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{j:()=>Autocomplete});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");__webpack_require__("./src/tc.module.css");const Autocomplete=({value="",onValueChange,options=[]})=>{const[activeOption,setActiveOption]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(""===value||-1===options.indexOf(value)?0:options.indexOf(value)),[filteredOptions,setFilteredOptions]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(options),[shouldShowList,setShouldShowList]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),[searchValue,setSearchValue]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(value),inputRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),listRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),onInputChange=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((event=>{const input=event.target.value;if(""!=input){const newFilteredOptions=options.filter((option=>option.toLowerCase().indexOf(input.toLowerCase())>-1));setFilteredOptions(newFilteredOptions)}else setFilteredOptions(options);setActiveOption(0),setShouldShowList(!0),setSearchValue(input)}),[setActiveOption,setFilteredOptions,setShouldShowList,setSearchValue,onValueChange]),onOptionClick=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((event=>{const symbol=event.currentTarget.innerText||event.currentTarget.textContent||"";setShouldShowList(!1),setActiveOption(0),setFilteredOptions([]),setSearchValue(symbol),onValueChange(symbol)}),[setShouldShowList,setActiveOption,setFilteredOptions,setSearchValue,onValueChange]),onKeyDown=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((event=>{let selectedItem="";if(38===event.keyCode){if(event.preventDefault(),0===activeOption)return;selectedItem=filteredOptions[activeOption-1],setSearchValue(filteredOptions[activeOption-1]),setActiveOption(activeOption-1),listRef.current?.scroll({top:34*(activeOption-1)})}else if(40===event.keyCode){if(event.preventDefault(),activeOption===filteredOptions.length-1)return;selectedItem=filteredOptions[activeOption+1],setSearchValue(filteredOptions[activeOption+1]),setActiveOption(activeOption+1),listRef.current?.scroll({top:34*(activeOption+1)})}Object.keys(selectedItem)?.length>0&&onValueChange(selectedItem)}),[setActiveOption,setSearchValue,filteredOptions,activeOption,onValueChange]);return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{setTimeout((()=>{inputRef.current?.select()}),0),filteredOptions[0]&&onValueChange(filteredOptions[0])}),[]),react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"flex flex-col relative"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"flex leading-4 p-2  focus:outline-none focus:ring w-full shadow-sm sm:text-base border-2 rounded-md"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("input",{type:"text",role:"input",name:"autocomplete-input",className:"flex focus:outline-none",placeholder:"Search...",onChange:onInputChange,onKeyDown,value:searchValue,ref:inputRef,onClick:()=>{setShouldShowList(!0)}})),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"flex"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,shouldShowList?react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"flex absolute rounded-sm w-full",style:{zIndex:999}},filteredOptions?.length>0?react__WEBPACK_IMPORTED_MODULE_0__.createElement("ul",{role:"list",className:"flex flex-col gap-1 bg-gray-200 w-full",id:"list",ref:listRef},filteredOptions?.map(((option,index)=>{let className="flex gap-2 p-2 ";return index===activeOption&&(className+="font-bold"),react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{className,role:"listitem",key:index,onClick:onOptionClick},option)}))):react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"flex bg-gray-200 w-full p-2"}," ",react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,"Not Found Result!!")," "))):react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null)))))};try{Autocomplete.displayName="Autocomplete",Autocomplete.__docgenInfo={description:"",displayName:"Autocomplete",props:{value:{defaultValue:{value:""},description:"",name:"value",required:!1,type:{name:"string"}},onValueChange:{defaultValue:null,description:"",name:"onValueChange",required:!0,type:{name:"(value: string) => void"}},options:{defaultValue:{value:"[]"},description:"",name:"options",required:!1,type:{name:"string[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/core-components/molecules/autocomplete/autocomplete.tsx#Autocomplete"]={docgenInfo:Autocomplete.__docgenInfo,name:"Autocomplete",path:"src/core-components/molecules/autocomplete/autocomplete.tsx#Autocomplete"})}catch(__react_docgen_typescript_loader_error){}}}]);