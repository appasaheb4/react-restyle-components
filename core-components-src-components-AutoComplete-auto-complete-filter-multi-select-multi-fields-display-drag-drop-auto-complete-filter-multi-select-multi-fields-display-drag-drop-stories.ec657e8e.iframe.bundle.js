"use strict";(self.webpackChunkreact_restyle_components=self.webpackChunkreact_restyle_components||[]).push([[6972],{"./node_modules/@storybook/addon-actions/dist/index.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{XI:()=>action});var external_STORYBOOK_MODULE_PREVIEW_API_=__webpack_require__("storybook/internal/preview-api"),external_STORYBOOK_MODULE_CORE_EVENTS_PREVIEW_ERRORS_=__webpack_require__("storybook/internal/preview-errors"),external_STORYBOOK_MODULE_GLOBAL_=__webpack_require__("@storybook/global"),v4=__webpack_require__("./node_modules/uuid/dist/esm-browser/v4.js"),ADDON_ID="storybook/actions",EVENT_ID=`${ADDON_ID}/action-event`,config={depth:10,clearOnStoryChange:!0,limit:50},findProto=(obj,callback)=>{let proto=Object.getPrototypeOf(obj);return!proto||callback(proto)?proto:findProto(proto,callback)},serializeArg=a=>{if("object"==typeof(e=a)&&e&&findProto(e,(proto=>/^Synthetic(?:Base)?Event$/.test(proto.constructor.name)))&&"function"==typeof e.persist){let e=Object.create(a.constructor.prototype,Object.getOwnPropertyDescriptors(a));e.persist();let viewDescriptor=Object.getOwnPropertyDescriptor(e,"view"),view=viewDescriptor?.value;return"object"==typeof view&&"Window"===view?.constructor.name&&Object.defineProperty(e,"view",{...viewDescriptor,value:Object.create(view.constructor.prototype)}),e}var e;return a},generateId=()=>"object"==typeof crypto&&"function"==typeof crypto.getRandomValues?(0,v4.A)():Date.now().toString(36)+Math.random().toString(36).substring(2);function action(name,options={}){let actionOptions={...config,...options},handler=function(...args){if(options.implicit){let storyRenderer=("__STORYBOOK_PREVIEW__"in external_STORYBOOK_MODULE_GLOBAL_.global?external_STORYBOOK_MODULE_GLOBAL_.global.__STORYBOOK_PREVIEW__:void 0)?.storyRenders.find((render=>"playing"===render.phase||"rendering"===render.phase));if(storyRenderer){let deprecated=!window?.FEATURES?.disallowImplicitActionsInRenderV8,error=new external_STORYBOOK_MODULE_CORE_EVENTS_PREVIEW_ERRORS_.ImplicitActionsDuringRendering({phase:storyRenderer.phase,name,deprecated});if(!deprecated)throw error;console.warn(error)}}let channel=external_STORYBOOK_MODULE_PREVIEW_API_.addons.getChannel(),id=generateId(),serializedArgs=args.map(serializeArg),normalizedArgs=args.length>1?serializedArgs:serializedArgs[0],actionDisplayToEmit={id,count:0,data:{name,args:normalizedArgs},options:{...actionOptions,maxDepth:5+(actionOptions.depth||3),allowFunction:actionOptions.allowFunction||!1}};channel.emit(EVENT_ID,actionDisplayToEmit)};return handler.isAction=!0,handler.implicit=options.implicit,handler}},"./src/core-components/src/components/AutoComplete/auto-complete-filter-multi-select-multi-fields-display-drag-drop/auto-complete-filter-multi-select-multi-fields-display-drag-drop.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Basic:()=>Basic,Documentation:()=>Documentation,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@storybook/addon-actions/dist/index.mjs"),styled_components__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),_auto_complete_filter_multi_select_multi_fields_display_drag_drop_component__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/core-components/src/components/AutoComplete/auto-complete-filter-multi-select-multi-fields-display-drag-drop/auto-complete-filter-multi-select-multi-fields-display-drag-drop.component.tsx");const Wrapper=styled_components__WEBPACK_IMPORTED_MODULE_3__.I4.div`
  width: 100%;
  padding: 20px;
  max-width: 800px;
`,__WEBPACK_DEFAULT_EXPORT__={title:"Components/AutoComplete/AutoCompleteFilterMultiSelectMultiFieldsDisplayDragDrop",component:_auto_complete_filter_multi_select_multi_fields_display_drag_drop_component__WEBPACK_IMPORTED_MODULE_2__.t,tags:["autodocs"],parameters:{componentSubtitle:"import { AutoCompleteFilterMultiSelectMultiFieldsDisplayDragDrop } from 'react-restyle-components'",layout:"centered",docs:{description:{component:"An advanced auto-complete multi-select component with drag-and-drop reordering, filtering, and multi-field display capabilities."}}},decorators:[Story=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(Wrapper,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(Story,null))],argTypes:{uniqueField:{control:"text",description:"Field to use as unique identifier"},loader:{control:"boolean",description:"Show loading spinner"},placeholder:{control:"text",description:"Input placeholder text"},hasError:{control:"boolean",description:"Show error state"},disable:{control:"boolean",description:"Disable the component"},isUpperCase:{control:"boolean",description:"Transform input to uppercase"},name:{control:"text",description:"Input name attribute"},defaultValue:{control:"text",description:"Default input value"}}},Template=args=>{const[selectedItems,setSelectedItems]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(args?.data?.selected||[]),[filteredData,setFilteredData]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(args?.data||{list:[],selected:[],displayKey:[]}),safeFilteredData={list:filteredData?.list||[],selected:selectedItems||[],displayKey:filteredData?.displayKey||args?.data?.displayKey||[]};return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_auto_complete_filter_multi_select_multi_fields_display_drag_drop_component__WEBPACK_IMPORTED_MODULE_2__.t,{...args,data:safeFilteredData,onUpdate:items=>{console.log("Updated items:",items),setSelectedItems(items||[]),(0,_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_1__.XI)("onUpdate")(items)},onSelect:item=>{if(console.log("Selected item:",item),!item||!item?._id)return console.warn("Invalid item selected:",item),selectedItems;const isSelected=selectedItems?.some((selected=>selected?._id===item?._id));let updatedSelectedItems;return updatedSelectedItems=isSelected?selectedItems?.filter((selected=>selected?._id!==item?._id))||[]:[...selectedItems||[],item],setSelectedItems(updatedSelectedItems),(0,_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_1__.XI)("onSelect")(item),updatedSelectedItems},onFilter:value=>{if(console.log("Filter value:",value),(0,_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_1__.XI)("onFilter")(value),args?.data&&args?.data?.list&&Array.isArray(args?.data?.list))if(value&&""!==value.trim()){const filteredOptions=args.data?.list?.filter((item=>args.data?.displayKey?.some((key=>item?.[key]?.toString().toLowerCase()?.includes(value?.toLowerCase())))))||[];setFilteredData({...args?.data,list:filteredOptions})}else setFilteredData(args?.data);else console.warn("Invalid data structure for filtering")},onBlur:e=>{console.log("Blur event:",e),(0,_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_1__.XI)("onBlur")(e)}})},Documentation={name:"Documentation",render:Template,args:{key:"employee-selector",uniqueField:"_id",placeholder:"Search employees...",data:{list:[{_id:"1",code:"EMP001",name:"John",lastName:"Doe",department:"Engineering",position:"Senior Developer"},{_id:"2",code:"EMP002",name:"Jane",lastName:"Smith",department:"Design",position:"UI/UX Designer"},{_id:"3",code:"EMP003",name:"Mike",lastName:"Johnson",department:"Marketing",position:"Marketing Manager"}],selected:[],displayKey:["code","name","lastName"]},hasError:!1,disable:!1,isUpperCase:!1,name:"employeeSelect",loader:!1},parameters:{docs:{source:{code:"\nimport { AutoCompleteFilterMultiSelectMultiFieldsDisplayDragDrop } from 'react-restyle-components';\n\n<AutoCompleteFilterMultiSelectMultiFieldsDisplayDragDrop\n  uniqueField=\"_id\"\n  placeholder=\"Search employees...\"\n  data={{\n    list: [\n      {_id: '1', code: 'EMP001', name: 'John', lastName: 'Doe', department: 'Engineering'},\n      {_id: '2', code: 'EMP002', name: 'Jane', lastName: 'Smith', department: 'Design'},\n      {_id: '3', code: 'EMP003', name: 'Mike', lastName: 'Johnson', department: 'Marketing'},\n    ],\n    selected: [],\n    displayKey: ['code', 'name', 'lastName'],\n  }}\n  onUpdate={(items) => console.log(items)}\n  onSelect={(item) => console.log(item)}\n  onFilter={(value) => console.log(value)}\n/>\n        ",language:"tsx"},description:{story:"Overview of the AutoCompleteFilterMultiSelectMultiFieldsDisplayDragDrop component with default configuration. This component provides a searchable multi-select dropdown with drag-and-drop reordering, multiple field display, and filtering capabilities."}},order:0}},Basic={render:Template,args:{key:"employee-selector",uniqueField:"_id",placeholder:"Search employees...",data:{list:[{_id:"1",code:"EMP001",name:"John",lastName:"Doe",department:"Engineering",position:"Senior Developer"},{_id:"2",code:"EMP002",name:"Jane",lastName:"Smith",department:"Design",position:"UI/UX Designer"},{_id:"3",code:"EMP003",name:"Mike",lastName:"Johnson",department:"Marketing",position:"Marketing Manager"},{_id:"4",code:"EMP004",name:"Sarah",lastName:"Williams",department:"Engineering",position:"Frontend Developer"},{_id:"5",code:"EMP005",name:"David",lastName:"Brown",department:"Sales",position:"Sales Representative"},{_id:"6",code:"EMP006",name:"Emily",lastName:"Davis",department:"HR",position:"HR Specialist"},{_id:"7",code:"EMP007",name:"Robert",lastName:"Miller",department:"Engineering",position:"Backend Developer"},{_id:"8",code:"EMP008",name:"Lisa",lastName:"Wilson",department:"Finance",position:"Financial Analyst"},{_id:"9",code:"EMP009",name:"Chris",lastName:"Moore",department:"Operations",position:"Operations Manager"},{_id:"10",code:"EMP010",name:"Amanda",lastName:"Taylor",department:"Design",position:"Graphic Designer"},{_id:"11",code:"EMP011",name:"Brian",lastName:"Clark",department:"Engineering",position:"DevOps Engineer"},{_id:"12",code:"EMP012",name:"Jessica",lastName:"Lewis",department:"Marketing",position:"Content Strategist"},{_id:"13",code:"EMP013",name:"Matthew",lastName:"Walker",department:"Sales",position:"Account Manager"},{_id:"14",code:"EMP014",name:"Ashley",lastName:"Hall",department:"HR",position:"Recruiter"},{_id:"15",code:"EMP015",name:"Joshua",lastName:"Allen",department:"Finance",position:"Accountant"},{_id:"16",code:"EMP016",name:"Megan",lastName:"Young",department:"Operations",position:"Logistics Coordinator"},{_id:"17",code:"EMP017",name:"Andrew",lastName:"King",department:"Engineering",position:"QA Engineer"},{_id:"18",code:"EMP018",name:"Rachel",lastName:"Wright",department:"Design",position:"Product Designer"},{_id:"19",code:"EMP019",name:"Daniel",lastName:"Lopez",department:"Marketing",position:"SEO Specialist"},{_id:"20",code:"EMP020",name:"Nicole",lastName:"Hill",department:"Sales",position:"Sales Manager"},{_id:"21",code:"EMP021",name:"Kevin",lastName:"Scott",department:"HR",position:"HR Manager"},{_id:"22",code:"EMP022",name:"Laura",lastName:"Green",department:"Finance",position:"Payroll Specialist"},{_id:"23",code:"EMP023",name:"Justin",lastName:"Adams",department:"Operations",position:"Facilities Manager"},{_id:"24",code:"EMP024",name:"Stephanie",lastName:"Nelson",department:"Engineering",position:"Mobile Developer"},{_id:"25",code:"EMP025",name:"Ryan",lastName:"Baker",department:"Design",position:"Interaction Designer"},{_id:"26",code:"EMP026",name:"Kimberly",lastName:"Carter",department:"Marketing",position:"Brand Manager"},{_id:"27",code:"EMP027",name:"Eric",lastName:"Mitchell",department:"Sales",position:"Business Development"},{_id:"28",code:"EMP028",name:"Melissa",lastName:"Perez",department:"HR",position:"Training Specialist"},{_id:"29",code:"EMP029",name:"Brandon",lastName:"Roberts",department:"Finance",position:"Financial Controller"},{_id:"30",code:"EMP030",name:"Samantha",lastName:"Turner",department:"Operations",position:"Operations Analyst"}],selected:[],displayKey:["code","name","lastName"]},hasError:!1,disable:!1,isUpperCase:!1,name:"employeeSelect",loader:!1},parameters:{docs:{description:{story:"Basic auto-complete multi-select with drag-and-drop functionality. Shows 10 employee records with code, name, and department fields."}}}},__namedExportsOrder=["Documentation","Basic"];Documentation.parameters={...Documentation.parameters,docs:{...Documentation.parameters?.docs,source:{originalSource:"{\n  name: 'Documentation',\n  render: Template,\n  args: {\n    key: 'employee-selector',\n    uniqueField: '_id',\n    placeholder: 'Search employees...',\n    data: {\n      list: [{\n        _id: '1',\n        code: 'EMP001',\n        name: 'John',\n        lastName: 'Doe',\n        department: 'Engineering',\n        position: 'Senior Developer'\n      }, {\n        _id: '2',\n        code: 'EMP002',\n        name: 'Jane',\n        lastName: 'Smith',\n        department: 'Design',\n        position: 'UI/UX Designer'\n      }, {\n        _id: '3',\n        code: 'EMP003',\n        name: 'Mike',\n        lastName: 'Johnson',\n        department: 'Marketing',\n        position: 'Marketing Manager'\n      }],\n      selected: [],\n      displayKey: ['code', 'name', 'lastName']\n    },\n    hasError: false,\n    disable: false,\n    isUpperCase: false,\n    name: 'employeeSelect',\n    loader: false\n  },\n  parameters: {\n    docs: {\n      source: {\n        code: `\nimport { AutoCompleteFilterMultiSelectMultiFieldsDisplayDragDrop } from 'react-restyle-components';\n\n<AutoCompleteFilterMultiSelectMultiFieldsDisplayDragDrop\n  uniqueField=\"_id\"\n  placeholder=\"Search employees...\"\n  data={{\n    list: [\n      {_id: '1', code: 'EMP001', name: 'John', lastName: 'Doe', department: 'Engineering'},\n      {_id: '2', code: 'EMP002', name: 'Jane', lastName: 'Smith', department: 'Design'},\n      {_id: '3', code: 'EMP003', name: 'Mike', lastName: 'Johnson', department: 'Marketing'},\n    ],\n    selected: [],\n    displayKey: ['code', 'name', 'lastName'],\n  }}\n  onUpdate={(items) => console.log(items)}\n  onSelect={(item) => console.log(item)}\n  onFilter={(value) => console.log(value)}\n/>\n        `,\n        language: 'tsx'\n      },\n      description: {\n        story: 'Overview of the AutoCompleteFilterMultiSelectMultiFieldsDisplayDragDrop component with default configuration. This component provides a searchable multi-select dropdown with drag-and-drop reordering, multiple field display, and filtering capabilities.'\n      }\n    },\n    order: 0\n  }\n}",...Documentation.parameters?.docs?.source}}},Basic.parameters={...Basic.parameters,docs:{...Basic.parameters?.docs,source:{originalSource:"{\n  render: Template,\n  args: {\n    key: 'employee-selector',\n    uniqueField: '_id',\n    placeholder: 'Search employees...',\n    data: sampleData,\n    hasError: false,\n    disable: false,\n    isUpperCase: false,\n    name: 'employeeSelect',\n    loader: false\n  },\n  parameters: {\n    docs: {\n      description: {\n        story: 'Basic auto-complete multi-select with drag-and-drop functionality. Shows 10 employee records with code, name, and department fields.'\n      }\n    }\n  }\n}",...Basic.parameters?.docs?.source}}}},"./src/core-components/src/components/AutoComplete/auto-complete-filter-multi-select-multi-fields-display-drag-drop/auto-complete-filter-multi-select-multi-fields-display-drag-drop.component.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{t:()=>AutoCompleteFilterMultiSelectMultiFieldsDisplayDragDrop});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),___WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/core-components/src/components/index.ts"),_dnd_kit_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@dnd-kit/core/dist/core.esm.js"),_dnd_kit_sortable__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@dnd-kit/sortable/dist/sortable.esm.js"),_dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@dnd-kit/utilities/dist/utilities.esm.js"),_tc_module_css__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/core-components/src/tc.module.css"),_tc_module_css__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_tc_module_css__WEBPACK_IMPORTED_MODULE_5__),_utils__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/core-components/src/utils/index.ts");const DraggableSelectedItem=({item,index,onRemove,displayKey,uniqueField="sort",displayConfig={},className,style:customStyle})=>{const{attributes,listeners,setNodeRef,transform,transition,isDragging}=(0,_dnd_kit_sortable__WEBPACK_IMPORTED_MODULE_3__.gl)({id:item[uniqueField]||item.sort||index.toString()}),style={transform:_dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_4__.Ks.Transform.toString(transform),transition,opacity:isDragging?.5:1,...customStyle};return displayConfig.renderSelectedBadge?react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{ref:setNodeRef,style,...attributes,...listeners},displayConfig.renderSelectedBadge(item,index,(()=>onRemove(index)))):react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{ref:setNodeRef,style,...attributes,...listeners,className:(0,_utils__WEBPACK_IMPORTED_MODULE_6__.cn)(_tc_module_css__WEBPACK_IMPORTED_MODULE_5___default().flex,_tc_module_css__WEBPACK_IMPORTED_MODULE_5___default()["text-white"],_tc_module_css__WEBPACK_IMPORTED_MODULE_5___default()["gap-1"],_tc_module_css__WEBPACK_IMPORTED_MODULE_5___default()["bg-blue-500"],_tc_module_css__WEBPACK_IMPORTED_MODULE_5___default()["p-1"],_tc_module_css__WEBPACK_IMPORTED_MODULE_5___default().rounded,_tc_module_css__WEBPACK_IMPORTED_MODULE_5___default()["cursor-move"],className)},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:(0,_utils__WEBPACK_IMPORTED_MODULE_6__.cn)(_tc_module_css__WEBPACK_IMPORTED_MODULE_5___default().flex,_tc_module_css__WEBPACK_IMPORTED_MODULE_5___default()["w-fit"],_tc_module_css__WEBPACK_IMPORTED_MODULE_5___default()["cursor-pointer"],_tc_module_css__WEBPACK_IMPORTED_MODULE_5___default()["items-center"]),onClick:e=>{e.stopPropagation(),onRemove(index)}},react__WEBPACK_IMPORTED_MODULE_0__.createElement(___WEBPACK_IMPORTED_MODULE_1__.In,{nameIcon:"BsTrashFill",propsIcon:{size:16,color:"white"}})),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,(()=>{const keys=displayConfig.displayKeys||displayKey||["name","code"],separator=displayConfig.displaySeparator||" - ";return keys.map((key=>item[key])).filter(Boolean).join(separator)||"Unnamed Item"})()))},AutoCompleteFilterMultiSelectMultiFieldsDisplayDragDrop=({componentKey,uniqueField="_id",loader=!1,placeholder="Search...",data,hasError=!1,disable=!1,isUpperCase=!1,name,defaultValue="",displayConfig={},dragDropConfig={},selectionConfig={},uiConfig={},onFilter,onUpdate,onSelect,onBlur,className,style,filterDebounceDelay=300})=>{const{enabled:dragDropEnabled=!0,strategy=_dnd_kit_sortable__WEBPACK_IMPORTED_MODULE_3__.m$,onDragEnd:customOnDragEnd,animationDuration=200}=dragDropConfig,{maxSelection,onSelectionChange}=selectionConfig,{showSelectedSection=!0,selectedPlaceholder,emptyStateMessage="No items available",maxHeight="calc(100vh - 20vh)",zIndex=80}=uiConfig,[value,setValue]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(""),[options,setOptions]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]),[originalOptions,setOriginalOptions]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]),[isListOpen,setIsListOpen]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),refSelectedItems=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(data?.selected||[]),[selectedItems,setSelectedItems]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(data?.selected||[]),sensors=(0,_dnd_kit_core__WEBPACK_IMPORTED_MODULE_2__.FR)((0,_dnd_kit_core__WEBPACK_IMPORTED_MODULE_2__.MS)(_dnd_kit_core__WEBPACK_IMPORTED_MODULE_2__.AN));(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{defaultValue&&setValue(defaultValue)}),[defaultValue]);const wrapperRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);var ref;ref=wrapperRef,(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{function handleClickOutside(event){ref.current&&!ref.current.contains(event.target)&&isListOpen&&(onUpdate(refSelectedItems.current),setIsListOpen(!1),setValue(""))}return document.addEventListener("mousedown",handleClickOutside),()=>{document.removeEventListener("mousedown",handleClickOutside)}}),[ref,isListOpen,onUpdate]);const getSelectedItem=(selectedItem,list)=>list.map((item=>{const isSelected=!!(selectedItem&&selectedItem.length>0)&&selectedItem.some((sItem=>sItem[uniqueField]===item[uniqueField]));return{...item,selected:isSelected}}));(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{const selected=data?.selected||[],list=data?.list||[];setOriginalOptions(getSelectedItem(selected,list)),setOptions(getSelectedItem(selected,list));const itemsWithSort=selected.map(((sItem,index)=>({...sItem,sort:index.toString()})));refSelectedItems.current=itemsWithSort,setSelectedItems(itemsWithSort),onSelectionChange&&onSelectionChange(itemsWithSort)}),[data,data?.selected,uniqueField,onSelectionChange]);const debouncedFilter=react__WEBPACK_IMPORTED_MODULE_0__.useMemo((()=>{if(!onFilter)return()=>{};let timeout;return search=>{clearTimeout(timeout),timeout=setTimeout((()=>{onFilter(search)}),filterDebounceDelay)}}),[onFilter,filterDebounceDelay]),handleRemoveItem=index=>{const updatedItems=[...refSelectedItems.current?.slice(0,index)||[],...refSelectedItems.current?.slice(index+1)||[]].map(((item,idx)=>({...item,sort:idx.toString()})));refSelectedItems.current=updatedItems,setSelectedItems([...updatedItems]),onSelectionChange&&onSelectionChange(updatedItems)};return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{ref:wrapperRef,className:(0,_utils__WEBPACK_IMPORTED_MODULE_6__.cn)(_tc_module_css__WEBPACK_IMPORTED_MODULE_5___default()["w-full"],_tc_module_css__WEBPACK_IMPORTED_MODULE_5___default().relative,className),style,key:componentKey?`${componentKey}_wrapperView`:void 0},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:(0,_utils__WEBPACK_IMPORTED_MODULE_6__.cn)(_tc_module_css__WEBPACK_IMPORTED_MODULE_5___default().flex,_tc_module_css__WEBPACK_IMPORTED_MODULE_5___default()["items-center"],_tc_module_css__WEBPACK_IMPORTED_MODULE_5___default()["leading-4"],_tc_module_css__WEBPACK_IMPORTED_MODULE_5___default()["p-2"],_tc_module_css__WEBPACK_IMPORTED_MODULE_5___default()["focus:outline-none"],_tc_module_css__WEBPACK_IMPORTED_MODULE_5___default()["focus:ring"],_tc_module_css__WEBPACK_IMPORTED_MODULE_5___default()["w-full"],_tc_module_css__WEBPACK_IMPORTED_MODULE_5___default()["shadow-sm"],_tc_module_css__WEBPACK_IMPORTED_MODULE_5___default()["sm:text-base"],_tc_module_css__WEBPACK_IMPORTED_MODULE_5___default().border,_tc_module_css__WEBPACK_IMPORTED_MODULE_5___default()["rounded-md"],{[_tc_module_css__WEBPACK_IMPORTED_MODULE_5___default()["border-red"]]:hasError,[_tc_module_css__WEBPACK_IMPORTED_MODULE_5___default()["border-gray-300"]]:!hasError})},react__WEBPACK_IMPORTED_MODULE_0__.createElement("input",{placeholder,disabled:disable,name,value:isListOpen?isUpperCase?value?.toUpperCase():value:selectedItems.length>0?(()=>{const count=selectedItems.length;return"function"==typeof selectedPlaceholder?selectedPlaceholder(count):selectedPlaceholder||`${count} Items`})():placeholder,className:(0,_utils__WEBPACK_IMPORTED_MODULE_6__.cn)(_tc_module_css__WEBPACK_IMPORTED_MODULE_5___default()["w-full"],_tc_module_css__WEBPACK_IMPORTED_MODULE_5___default()["focus:outline-none"],_tc_module_css__WEBPACK_IMPORTED_MODULE_5___default()["bg-none"]),onKeyUp:e=>{if(8===(e.which?e.which:e.keyCode)){const search=e.currentTarget.value;debouncedFilter(search)}},onChange:e=>{const search=e.target.value;setValue(search),debouncedFilter(search)},onClick:()=>setIsListOpen(!0),onBlur:e=>onBlur&&onBlur(e),key:componentKey?`${componentKey}_input`:void 0,id:componentKey?`${componentKey}_input_text`:void 0}),loader&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(___WEBPACK_IMPORTED_MODULE_1__._7,null),isListOpen?react__WEBPACK_IMPORTED_MODULE_0__.createElement(___WEBPACK_IMPORTED_MODULE_1__.In,{nameIcon:"FaChevronUp",propsIcon:{size:16}}):react__WEBPACK_IMPORTED_MODULE_0__.createElement(___WEBPACK_IMPORTED_MODULE_1__.In,{nameIcon:"FaChevronDown",propsIcon:{size:16}})),options&&isListOpen&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:(0,_utils__WEBPACK_IMPORTED_MODULE_6__.cn)(_tc_module_css__WEBPACK_IMPORTED_MODULE_5___default().flex,_tc_module_css__WEBPACK_IMPORTED_MODULE_5___default()["flex-col"],_tc_module_css__WEBPACK_IMPORTED_MODULE_5___default().absolute,_tc_module_css__WEBPACK_IMPORTED_MODULE_5___default()["rounded-sm"],_tc_module_css__WEBPACK_IMPORTED_MODULE_5___default()["z-500"],_tc_module_css__WEBPACK_IMPORTED_MODULE_5___default()["w-full"]),style:{zIndex},key:componentKey?`${componentKey}_list_wrapper_view`:void 0},showSelectedSection&&selectedItems.length>0&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:(0,_utils__WEBPACK_IMPORTED_MODULE_6__.cn)(_tc_module_css__WEBPACK_IMPORTED_MODULE_5___default().flex,_tc_module_css__WEBPACK_IMPORTED_MODULE_5___default()["w-full"],_tc_module_css__WEBPACK_IMPORTED_MODULE_5___default()["bg-gray-400"])},dragDropEnabled?react__WEBPACK_IMPORTED_MODULE_0__.createElement(_dnd_kit_core__WEBPACK_IMPORTED_MODULE_2__.Mp,{sensors,collisionDetection:_dnd_kit_core__WEBPACK_IMPORTED_MODULE_2__.fp,onDragEnd:event=>{if(!dragDropEnabled)return;const{active,over}=event;if(!over||active.id===over.id)return;const oldIndex=refSelectedItems.current.findIndex((item=>item.sort===active.id||item[uniqueField]===active.id)),newIndex=refSelectedItems.current.findIndex((item=>item.sort===over.id||item[uniqueField]===over.id));if(-1!==oldIndex&&-1!==newIndex){const updatedItems=(0,_dnd_kit_sortable__WEBPACK_IMPORTED_MODULE_3__.be)(refSelectedItems.current,oldIndex,newIndex).map(((item,index)=>({...item,sort:index.toString()})));refSelectedItems.current=updatedItems,setSelectedItems([...updatedItems]),customOnDragEnd&&customOnDragEnd(updatedItems),onSelectionChange&&onSelectionChange(updatedItems)}}},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_dnd_kit_sortable__WEBPACK_IMPORTED_MODULE_3__.gB,{items:selectedItems.map(((item,idx)=>item.sort||item[uniqueField]||idx.toString())),strategy},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:(0,_utils__WEBPACK_IMPORTED_MODULE_6__.cn)(_tc_module_css__WEBPACK_IMPORTED_MODULE_5___default().flex,_tc_module_css__WEBPACK_IMPORTED_MODULE_5___default()["flex-wrap"],_tc_module_css__WEBPACK_IMPORTED_MODULE_5___default()["gap-1"],_tc_module_css__WEBPACK_IMPORTED_MODULE_5___default()["bg-gray-400"],_tc_module_css__WEBPACK_IMPORTED_MODULE_5___default()["p-1"])},selectedItems.map(((item,index)=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(DraggableSelectedItem,{key:item.sort||item[uniqueField]||index,item,index,onRemove:handleRemoveItem,displayKey:data.displayKey,uniqueField:"sort",displayConfig})))))):react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:(0,_utils__WEBPACK_IMPORTED_MODULE_6__.cn)(_tc_module_css__WEBPACK_IMPORTED_MODULE_5___default().flex,_tc_module_css__WEBPACK_IMPORTED_MODULE_5___default()["flex-wrap"],_tc_module_css__WEBPACK_IMPORTED_MODULE_5___default()["gap-1"],_tc_module_css__WEBPACK_IMPORTED_MODULE_5___default()["bg-gray-400"],_tc_module_css__WEBPACK_IMPORTED_MODULE_5___default()["p-1"])},selectedItems.map(((item,index)=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(DraggableSelectedItem,{key:item[uniqueField]||index,item,index,onRemove:handleRemoveItem,displayKey:data.displayKey,uniqueField,displayConfig}))))),options.length>0?react__WEBPACK_IMPORTED_MODULE_0__.createElement("ul",{className:(0,_utils__WEBPACK_IMPORTED_MODULE_6__.cn)(_tc_module_css__WEBPACK_IMPORTED_MODULE_5___default().flex,_tc_module_css__WEBPACK_IMPORTED_MODULE_5___default()["flex-col"],_tc_module_css__WEBPACK_IMPORTED_MODULE_5___default()["gap-1"],_tc_module_css__WEBPACK_IMPORTED_MODULE_5___default()["bg-gray-200"],_tc_module_css__WEBPACK_IMPORTED_MODULE_5___default()["p-2"],_tc_module_css__WEBPACK_IMPORTED_MODULE_5___default()["overflow-y-scroll"],_tc_module_css__WEBPACK_IMPORTED_MODULE_5___default()["w-full"]),key:componentKey?`${componentKey}_listView`:void 0,id:componentKey?`${componentKey}_listView`:void 0,style:{maxHeight}},options.map(((item,index)=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{key:`${componentKey||"item"}_${index}_list`,className:(0,_utils__WEBPACK_IMPORTED_MODULE_6__.cn)(_tc_module_css__WEBPACK_IMPORTED_MODULE_5___default().flex,_tc_module_css__WEBPACK_IMPORTED_MODULE_5___default()["gap-4"],_tc_module_css__WEBPACK_IMPORTED_MODULE_5___default()["p-1"])},react__WEBPACK_IMPORTED_MODULE_0__.createElement("label",{className:(0,_utils__WEBPACK_IMPORTED_MODULE_6__.cn)(_tc_module_css__WEBPACK_IMPORTED_MODULE_5___default().flex,_tc_module_css__WEBPACK_IMPORTED_MODULE_5___default()["items-center"])},react__WEBPACK_IMPORTED_MODULE_0__.createElement("input",{className:(0,_utils__WEBPACK_IMPORTED_MODULE_6__.cn)(_tc_module_css__WEBPACK_IMPORTED_MODULE_5___default().flex,_tc_module_css__WEBPACK_IMPORTED_MODULE_5___default()["h-4"],_tc_module_css__WEBPACK_IMPORTED_MODULE_5___default()["w-4"]),type:"checkbox",checked:item.selected||!1,onChange:()=>(item=>{maxSelection&&selectedItems.length>=maxSelection&&!item.selected||(onSelect(item),setTimeout((()=>{const updatedItems=(data?.selected||[]).map(((sItem,index)=>({...sItem,sort:index.toString()})));refSelectedItems.current=updatedItems,setSelectedItems(updatedItems),onSelectionChange&&onSelectionChange(updatedItems)}),0))})(item),disabled:!!maxSelection&&(selectedItems.length>=maxSelection&&!item.selected),key:componentKey?`${componentKey}_${index}_check_box_view`:void 0,id:componentKey?`${componentKey}_${index}_check_box_view`:void 0}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:(0,_utils__WEBPACK_IMPORTED_MODULE_6__.cn)(_tc_module_css__WEBPACK_IMPORTED_MODULE_5___default().flex,_tc_module_css__WEBPACK_IMPORTED_MODULE_5___default()["ml-2"])},displayConfig.renderItem?displayConfig.renderItem(item):(item=>{if(displayConfig.renderItem){const rendered=displayConfig.renderItem(item);if("string"==typeof rendered)return rendered}const keys=displayConfig.displayKeys||data.displayKey||displayConfig.fallbackKeys||["name","code"],separator=displayConfig.displaySeparator||" - ";return keys.map((key=>item[key])).filter(Boolean).join(separator)||"Unnamed Item"})(item))))))):react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:(0,_utils__WEBPACK_IMPORTED_MODULE_6__.cn)(_tc_module_css__WEBPACK_IMPORTED_MODULE_5___default()["p-4"],_tc_module_css__WEBPACK_IMPORTED_MODULE_5___default()["text-center"],_tc_module_css__WEBPACK_IMPORTED_MODULE_5___default()["text-gray-500"])},react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",{className:(0,_utils__WEBPACK_IMPORTED_MODULE_6__.cn)(_tc_module_css__WEBPACK_IMPORTED_MODULE_5___default()["text-sm"])},emptyStateMessage)))))}}}]);
//# sourceMappingURL=core-components-src-components-AutoComplete-auto-complete-filter-multi-select-multi-fields-display-drag-drop-auto-complete-filter-multi-select-multi-fields-display-drag-drop-stories.ec657e8e.iframe.bundle.js.map