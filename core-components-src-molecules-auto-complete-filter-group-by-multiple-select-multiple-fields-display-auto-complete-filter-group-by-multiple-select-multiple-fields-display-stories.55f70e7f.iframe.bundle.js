"use strict";(self.webpackChunkreact_restyle_components=self.webpackChunkreact_restyle_components||[]).push([[4822],{"./src/core-components/src/molecules/auto-complete-filter-group-by-multiple-select-multiple-fields-display/auto-complete-filter-group-by-multiple-select-multiple-fields-display.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Basic:()=>Basic,__namedExportsOrder:()=>__namedExportsOrder,default:()=>auto_complete_filter_group_by_multiple_select_multiple_fields_display_stories});var react=__webpack_require__("./node_modules/react/index.js"),icons_component=__webpack_require__("./src/core-components/src/atoms/icons/icons.component.tsx"),tc_module=__webpack_require__("./src/core-components/src/tc.module.css"),tc_module_default=__webpack_require__.n(tc_module),utility_util=__webpack_require__("./src/core-components/src/utils/utility.util.ts"),lib=__webpack_require__("./node_modules/@techabl/core-utils/lib/index.js");const AutoCompleteFilterGroupByMultipleSelectMultipleFieldsDisplay=({uniqueField="_id",isSelectedStringArray=!1,loader=!1,placeholder="Search...",data,hasError=!1,disable=!1,isUpperCase=!1,name,showGroupHeaders=!0,collapsibleGroups=!1,groupByDetails={groupByName:"lab",totalItemName:"department"},onFilter,onUpdate,onSelect,onBlur})=>{const[value,setValue]=(0,react.useState)(""),[groupedOptions,setGroupedOptions]=(0,react.useState)({}),[collapsedGroups,setCollapsedGroups]=(0,react.useState)(new Set),[isListOpen,setIsListOpen]=(0,react.useState)(!1),[totalItems,setTotalItems]=(0,react.useState)(0),wrapperRef=(0,react.useRef)(null);var ref;ref=wrapperRef,(0,react.useEffect)((()=>{function handleClickOutside(event){ref.current&&!ref.current.contains(event.target)&&isListOpen&&(onSelect&&onSelect(Object.keys(groupedOptions).reduce(((acc,groupKey)=>{const selectedItems=(groupedOptions[groupKey]||[]).filter((item=>item.selected));return selectedItems.length>0&&(acc[groupKey]=selectedItems),acc}),{})),setIsListOpen(!1),setValue(""))}return document.addEventListener("mousedown",handleClickOutside),()=>{document.removeEventListener("mousedown",handleClickOutside)}}),[ref,isListOpen,groupedOptions]);const processGroupedData=(groupedData,selectedItems)=>{const processedGroups={};let totalCount=0;return Object.keys(groupedData).forEach((groupKey=>{const processedItems=(groupedData[groupKey]||[]).map((item=>{totalCount++;const isSelected=!!(selectedItems&&selectedItems.length>0)&&selectedItems.some((sItem=>isSelectedStringArray?sItem===item[uniqueField]:sItem[uniqueField]===item[uniqueField]));return{...item,selected:isSelected}}));processedGroups[groupKey]=processedItems})),setTotalItems(totalCount),processedGroups};(0,react.useEffect)((()=>{let processedData={};if(data.list&&Array.isArray(data.list)){const grouped=data.list.reduce(((groups,item)=>{const groupKey=item.lab||"Default";return groups[groupKey]||(groups[groupKey]=[]),groups[groupKey].push(item),groups}),{});processedData=processGroupedData(grouped,data.selected||[])}else"object"==typeof data.list&&null!==data.list&&(processedData=processGroupedData(data.list,data.selected||[]));setGroupedOptions(processedData)}),[data,data.selected,isSelectedStringArray,uniqueField]);const handleGroupSelectAll=(groupName,groupItems,selectAll)=>{const updatedGroupItems=groupItems.map((item=>({...item,selected:selectAll})));setGroupedOptions((prev=>({...prev,[groupName]:updatedGroupItems})))},getSelectedCount=()=>{let count=0;return Object.values(groupedOptions).forEach((groupItems=>{count+=groupItems.filter((item=>item.selected)).length})),count};return react.createElement(react.Fragment,null,react.createElement("div",{ref:wrapperRef,className:(0,utility_util.cn)(tc_module_default()["w-full"],tc_module_default().relative)},react.createElement("div",{className:(0,utility_util.cn)(tc_module_default().flex,tc_module_default()["items-center"],tc_module_default()["leading-4"],tc_module_default()["p-2"],tc_module_default()["focus:outline-none"],tc_module_default()["focus:ring"],tc_module_default()["w-full"],tc_module_default()["shadow-sm"],tc_module_default()["sm:text-base"],tc_module_default().border,tc_module_default()["rounded-md"],{[tc_module_default()["border-red-500"]]:hasError,[tc_module_default()["border-gray-300"]]:!hasError},tc_module_default()["bg-white"])},react.createElement("input",{placeholder,disabled:disable,name,value:isListOpen?value:`${getSelectedCount()} Items Selected`,className:(0,utility_util.cn)(tc_module_default()["w-full"],tc_module_default()["focus:outline-none"],tc_module_default()["bg-transparent"]),onKeyUp:e=>{if(8===(e.which?e.which:e.keyCode)){const search=e.target.value;(0,lib.debounce)((()=>{onFilter&&onFilter(search)}))}},onChange:e=>{const search=e.target.value;setValue(search),(0,lib.debounce)((()=>{onFilter&&onFilter(search)}))},onClick:()=>setIsListOpen(!0),onBlur:e=>onBlur&&onBlur(e)}),loader?react.createElement("div",{className:(0,utility_util.cn)(tc_module_default()["animate-spin"],tc_module_default()["w-4"],tc_module_default()["h-4"])},react.createElement(icons_component.I,{nameIcon:"FaSpinner",propsIcon:{size:16,color:"#666"}})):react.createElement(icons_component.I,{nameIcon:isListOpen?"FaChevronUp":"FaChevronDown",propsIcon:{size:16,color:"#000000"}})),isListOpen&&react.createElement("div",{className:(0,utility_util.cn)(tc_module_default()["mt-1"],tc_module_default().absolute,tc_module_default()["rounded-md"],tc_module_default()["bg-white"],tc_module_default().border,tc_module_default()["border-gray-300"],tc_module_default()["shadow-lg"],tc_module_default()["z-50"],tc_module_default()["w-full"],tc_module_default()["max-h-96"],tc_module_default()["overflow-hidden"]),style:{zIndex:1e3}},react.createElement("div",{className:(0,utility_util.cn)(tc_module_default()["p-3"],tc_module_default()["border-b"],tc_module_default()["border-gray-200"],tc_module_default()["bg-gray-50"],tc_module_default()["text-sm"],tc_module_default()["font-medium"],tc_module_default()["text-gray-700"])},react.createElement("div",{className:(0,utility_util.cn)(tc_module_default().flex,tc_module_default()["justify-between"],tc_module_default()["items-center"])},react.createElement("span",null,Object.keys(groupedOptions).length," ",groupByDetails.groupByName?.toUpperCase(),", ",totalItems," ",groupByDetails.totalItemName?.toUpperCase()),react.createElement("span",{className:(0,utility_util.cn)(tc_module_default()["text-blue-600"])},getSelectedCount()," Selected"))),react.createElement("div",{className:(0,utility_util.cn)(tc_module_default()["max-h-80"],tc_module_default()["overflow-y-auto"])},(()=>{const groupNames=Object.keys(groupedOptions).sort();return 0===groupNames.length?react.createElement("div",{className:(0,utility_util.cn)(tc_module_default()["p-4"],tc_module_default()["text-center"],tc_module_default()["text-gray-500"])},react.createElement(icons_component.I,{nameIcon:"FaSearch",propsIcon:{size:24,color:"#ccc"}}),react.createElement("p",{className:(0,utility_util.cn)(tc_module_default()["mt-2"],tc_module_default()["text-sm"])},"No results found"),react.createElement("p",{className:(0,utility_util.cn)(tc_module_default()["text-xs"])},"Try adjusting your search terms")):groupNames.map((groupName=>{const groupItems=groupedOptions[groupName]||[],isCollapsed=collapsedGroups.has(groupName),selectedInGroup=groupItems.filter((item=>item.selected)).length;return react.createElement("div",{key:groupName,className:(0,utility_util.cn)(tc_module_default()["border-b"],tc_module_default()["border-gray-200"],tc_module_default()["last:border-b-0"])},showGroupHeaders&&react.createElement("div",{className:(0,utility_util.cn)(tc_module_default().flex,tc_module_default()["items-center"],tc_module_default()["justify-between"],tc_module_default()["p-3"],tc_module_default()["bg-gray-50"],tc_module_default()["border-b"],tc_module_default()["border-gray-200"],tc_module_default()["font-semibold"],tc_module_default()["text-sm"],tc_module_default()["text-gray-700"],collapsibleGroups&&tc_module_default()["cursor-pointer"],tc_module_default()["hover:bg-gray-100"]),onClick:()=>collapsibleGroups&&(groupName=>{const newCollapsedGroups=new Set(collapsedGroups);newCollapsedGroups.has(groupName)?newCollapsedGroups.delete(groupName):newCollapsedGroups.add(groupName),setCollapsedGroups(newCollapsedGroups)})(groupName)},react.createElement("div",{className:(0,utility_util.cn)(tc_module_default().flex,tc_module_default()["items-center"],tc_module_default()["gap-2"])},collapsibleGroups&&react.createElement(icons_component.I,{nameIcon:isCollapsed?"FaChevronRight":"FaChevronDown",propsIcon:{size:12,color:"#666"}}),react.createElement("span",{className:(0,utility_util.cn)(tc_module_default()["font-bold"],tc_module_default()["text-blue-700"])},groupName),react.createElement("span",{className:(0,utility_util.cn)(tc_module_default()["text-xs"],tc_module_default()["bg-blue-100"],tc_module_default()["text-blue-800"],tc_module_default()["px-2"],tc_module_default()["py-1"],tc_module_default()["rounded-full"])},selectedInGroup,"/",groupItems.length)),react.createElement("div",{className:(0,utility_util.cn)(tc_module_default().flex,tc_module_default()["gap-1"])},react.createElement("button",{type:"button",onClick:e=>{e.stopPropagation(),handleGroupSelectAll(groupName,groupItems,!0)},className:(0,utility_util.cn)(tc_module_default()["text-xs"],tc_module_default()["px-2"],tc_module_default()["py-1"],tc_module_default()["bg-green-500"],tc_module_default()["text-white"],tc_module_default().rounded,tc_module_default()["hover:bg-green-600"],tc_module_default()["transition-colors"],selectedInGroup===groupItems.length&&tc_module_default()["opacity-50"],selectedInGroup===groupItems.length&&tc_module_default()["cursor-not-allowed"]),title:`Select all in ${groupName}`,disabled:selectedInGroup===groupItems.length},"All"),react.createElement("button",{type:"button",onClick:e=>{e.stopPropagation(),handleGroupSelectAll(groupName,groupItems,!1)},className:(0,utility_util.cn)(tc_module_default()["text-xs"],tc_module_default()["px-2"],tc_module_default()["py-1"],tc_module_default()["bg-gray-500"],tc_module_default()["text-white"],tc_module_default().rounded,tc_module_default()["hover:bg-gray-600"],tc_module_default()["transition-colors"],0===selectedInGroup&&tc_module_default()["opacity-50"],0===selectedInGroup&&tc_module_default()["cursor-not-allowed"]),title:`Deselect all in ${groupName}`,disabled:0===selectedInGroup},"None"))),(!collapsibleGroups||!isCollapsed)&&react.createElement("div",{className:(0,utility_util.cn)(tc_module_default()["max-h-60"],tc_module_default()["overflow-y-auto"])},groupItems.map(((item,index)=>react.createElement("div",{key:`${groupName}-${item[uniqueField]||index}`,className:(0,utility_util.cn)(tc_module_default().flex,tc_module_default()["items-center"],tc_module_default()["gap-3"],tc_module_default()["p-3"],tc_module_default()["hover:bg-blue-50"],tc_module_default()["border-l-4"],tc_module_default()["border-transparent"],item.selected&&tc_module_default()["border-blue-500"],item.selected&&tc_module_default()["bg-blue-50"],tc_module_default()["transition-colors"])},react.createElement("label",{className:(0,utility_util.cn)(tc_module_default().flex,tc_module_default()["items-center"],tc_module_default()["cursor-pointer"],tc_module_default()["w-full"])},react.createElement("input",{id:`${groupName}-${index}`,className:(0,utility_util.cn)(tc_module_default()["h-4"],tc_module_default()["w-4"],tc_module_default()["text-blue-600"],tc_module_default()["border-gray-300"],tc_module_default().rounded,tc_module_default()["focus:ring-blue-500"],tc_module_default()["cursor-pointer"]),type:"checkbox",checked:item.selected||!1,onChange:()=>{((groupName,isSelected,itemIndex)=>{const updatedGroupItems=groupedOptions[groupName].map(((grpItem,index)=>index===itemIndex?{...grpItem,selected:!isSelected}:grpItem));setGroupedOptions((prev=>({...prev,[groupName]:updatedGroupItems})))})(groupName,item.selected,index)}}),react.createElement("div",{className:(0,utility_util.cn)(tc_module_default()["ml-3"],tc_module_default().flex,tc_module_default()["flex-col"])},react.createElement("span",{className:(0,utility_util.cn)(tc_module_default()["text-sm"],tc_module_default()["font-medium"],item.selected&&tc_module_default()["text-blue-700"])},data.displayKey?data.displayKey.map((key=>item[key])).filter(Boolean).join(" - "):item.name||item.code||"Unnamed Item"))))))))}))})()))))};try{AutoCompleteFilterGroupByMultipleSelectMultipleFieldsDisplay.displayName="AutoCompleteFilterGroupByMultipleSelectMultipleFieldsDisplay",AutoCompleteFilterGroupByMultipleSelectMultipleFieldsDisplay.__docgenInfo={description:"",displayName:"AutoCompleteFilterGroupByMultipleSelectMultipleFieldsDisplay",props:{uniqueField:{defaultValue:{value:"_id"},description:"",name:"uniqueField",required:!1,type:{name:"string"}},isSelectedStringArray:{defaultValue:{value:"false"},description:"",name:"isSelectedStringArray",required:!1,type:{name:"boolean"}},loader:{defaultValue:{value:"false"},description:"",name:"loader",required:!1,type:{name:"boolean"}},placeholder:{defaultValue:{value:"Search..."},description:"",name:"placeholder",required:!1,type:{name:"string"}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"any"}},hasError:{defaultValue:{value:"false"},description:"",name:"hasError",required:!1,type:{name:"boolean"}},disable:{defaultValue:{value:"false"},description:"",name:"disable",required:!1,type:{name:"boolean"}},isUpperCase:{defaultValue:{value:"false"},description:"",name:"isUpperCase",required:!1,type:{name:"boolean"}},name:{defaultValue:null,description:"",name:"name",required:!1,type:{name:"string"}},showGroupHeaders:{defaultValue:{value:"true"},description:"",name:"showGroupHeaders",required:!1,type:{name:"boolean"}},collapsibleGroups:{defaultValue:{value:"false"},description:"",name:"collapsibleGroups",required:!1,type:{name:"boolean"}},groupByDetails:{defaultValue:{value:"{groupByName: 'lab', totalItemName: 'department'}"},description:"",name:"groupByDetails",required:!1,type:{name:"{ groupByName: string; totalItemName: string; }"}},onFilter:{defaultValue:null,description:"",name:"onFilter",required:!1,type:{name:"((value: string) => void)"}},onUpdate:{defaultValue:null,description:"",name:"onUpdate",required:!1,type:{name:"((item: any) => void)"}},onSelect:{defaultValue:null,description:"",name:"onSelect",required:!0,type:{name:"(item: any) => any"}},onBlur:{defaultValue:null,description:"",name:"onBlur",required:!1,type:{name:"((e: any) => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/core-components/src/molecules/auto-complete-filter-group-by-multiple-select-multiple-fields-display/auto-complete-filter-group-by-multiple-select-multiple-fields-display.component.tsx#AutoCompleteFilterGroupByMultipleSelectMultipleFieldsDisplay"]={docgenInfo:AutoCompleteFilterGroupByMultipleSelectMultipleFieldsDisplay.__docgenInfo,name:"AutoCompleteFilterGroupByMultipleSelectMultipleFieldsDisplay",path:"src/core-components/src/molecules/auto-complete-filter-group-by-multiple-select-multiple-fields-display/auto-complete-filter-group-by-multiple-select-multiple-fields-display.component.tsx#AutoCompleteFilterGroupByMultipleSelectMultipleFieldsDisplay"})}catch(__react_docgen_typescript_loader_error){}var dist=__webpack_require__("./node_modules/@storybook/addon-actions/dist/index.mjs");const auto_complete_filter_group_by_multiple_select_multiple_fields_display_stories={title:"Core Components/Molecules/AutoCompleteFilterGroupByMultipleSelectMultipleFieldsDisplay",component:AutoCompleteFilterGroupByMultipleSelectMultipleFieldsDisplay,tags:["autodocs"],parameters:{componentSubtitle:"import { AutoCompleteFilterGroupByMultipleSelectMultipleFieldsDisplay } from 'react-restyle-components'",docs:{description:{component:'An advanced grouped autocomplete multi-select component for selecting departments organized by labs with filtering and group management capabilities. Features include group-based selection with "All/None" buttons, individual item selection, search filtering across multiple fields, and comprehensive visual feedback.'}}},argTypes:{uniqueField:{control:"text",description:"Field to use as unique identifier for items",defaultValue:"_id"},isSelectedStringArray:{control:"boolean",description:"Whether selected items are stored as string array of IDs",defaultValue:!1},loader:{control:"boolean",description:"Show loading spinner in the input field",defaultValue:!1},placeholder:{control:"text",description:"Placeholder text for the search input",defaultValue:"Search..."},hasError:{control:"boolean",description:"Show error state with red border",defaultValue:!1},disable:{control:"boolean",description:"Disable the entire component",defaultValue:!1},isUpperCase:{control:"boolean",description:"Transform search input to uppercase",defaultValue:!1},showGroupHeaders:{control:"boolean",description:"Show headers for each group (lab)",defaultValue:!0},collapsibleGroups:{control:"boolean",description:"Allow groups to be collapsed/expanded",defaultValue:!1},data:{description:"Data object containing list (grouped items), selected items, and display configuration"},onFilter:{description:"Callback fired when user types in search field"},onUpdate:{description:"Callback fired when selection is updated (on blur/close)"},onSelect:{description:"Callback fired when individual item is selected/deselected"},onBlur:{description:"Callback fired when input field loses focus"}}},Basic={render:args=>{const[selectedItems,setSelectedItems]=(0,react.useState)(args.data.selected||[]),[filteredData,setFilteredData]=(0,react.useState)(args.data),[searchValue,setSearchValue]=(0,react.useState)("");react.useMemo((()=>({totalLabs:Object.keys(filteredData.list).length,totalDepartments:Object.values(filteredData.list).flat().length,selectedByLab:selectedItems.reduce(((acc,item)=>{const lab=item.lab||"Unknown";return acc[lab]=(acc[lab]||0)+1,acc}),{})})),[filteredData.list,selectedItems]);return react.createElement("div",{style:{padding:"20px",maxWidth:"800px",fontFamily:"Arial, sans-serif"}},react.createElement(AutoCompleteFilterGroupByMultipleSelectMultipleFieldsDisplay,{...args,data:{...filteredData,selected:selectedItems},onSelect:items=>{console.log({items})},onUpdate:items=>{console.log("Updated items:",items),setSelectedItems(items||[]),(0,dist.XI)("onUpdate")(items)},onFilter:value=>{if(setSearchValue(value),console.log("Filter value:",value),(0,dist.XI)("onFilter")(value),""===value.trim())setFilteredData(args.data);else{const filteredGroups={};Object.keys(args.data.list).forEach((groupKey=>{const filteredGroupItems=(args.data.list[groupKey]||[]).filter((item=>args.data.displayKey?.some((key=>item[key]?.toString().toLowerCase().includes(value.toLowerCase())))||item.code?.toLowerCase().includes(value.toLowerCase())||item.name?.toLowerCase().includes(value.toLowerCase())||item.hod?.toLowerCase().includes(value.toLowerCase())));filteredGroupItems.length>0&&(filteredGroups[groupKey]=filteredGroupItems)})),setFilteredData({...args.data,list:filteredGroups})}},onBlur:e=>{(0,dist.XI)("onBlur")(e)}}))},args:{uniqueField:"_id",placeholder:"Search ...",data:{list:{GFL:[{_id:"66ea7f1fce9360f262a122f4",lab:"GFL",code:"OTHER",name:"OTHER",shortName:null,hod:"Dr Sachin Jain",authorizedSignatory:["DRSACHIN","KARTHIKA"],companyCode:"GENEFLOW",status:"A",__typename:"Department"},{_id:"66c3796b902f4bc2eaadc4e2",lab:"GFL",code:"HOME COLLECTION",name:"HOME COLLECTION",shortName:null,hod:"Dr Sachin Jain",authorizedSignatory:[],companyCode:"GENEFLOW",status:"A",__typename:"Department"},{_id:"66c37918902f4bc2eaadc4c5",lab:"GFL",code:"LOGISTIC",name:"LOGISTIC",shortName:null,hod:"Dr Sachin Jain",authorizedSignatory:[],companyCode:"GENEFLOW",status:"A",__typename:"Department"},{_id:"66c378e7902f4bc2eaadc4aa",lab:"GFL",code:"ACCESSIONING",name:"ACCESSIONING",shortName:"",hod:"Dr Sachin Jain",authorizedSignatory:[],companyCode:"GENEFLOW",status:"A",__typename:"Department"},{_id:"66c378bc902f4bc2eaadc48a",lab:"GFL",code:"PHLEBOTOMY",name:"PHLEBOTOMY",shortName:"PHLEBO",hod:"Dr Sachin Jain",authorizedSignatory:[],companyCode:"GENEFLOW",status:"A",__typename:"Department"},{_id:"66963059d2342606f43638a0",lab:"GFL",code:"SPECIAL CHEMISTRY",name:"SPECIAL CHEMISTRY",shortName:null,hod:"DR SACHIN JAIN",authorizedSignatory:["DRSACHIN","KARTHIKA"],companyCode:"GENEFLOW",status:"A",__typename:"Department"},{_id:"665171cca262903d12cb9384",lab:"GFL",code:"MOLECULAR",name:"MOLECULAR",shortName:null,hod:"DR SACHIN JAIN",authorizedSignatory:["DRSACHIN"],companyCode:"GENEFLOW",status:"A",__typename:"Department"},{_id:"665171aea262903d12cb935a",lab:"GFL",code:"CYTOGENETIC",name:"CYTOGENETIC",shortName:null,hod:"DR SACHIN JAIN",authorizedSignatory:["DRSACHIN"],companyCode:"GENEFLOW",status:"A",__typename:"Department"},{_id:"6651718ea262903d12cb9330",lab:"GFL",code:"FLOWCYTOMETRY",name:"FLOWCYTOMETRY",shortName:null,hod:"Dr Sachin Jain",authorizedSignatory:["DRSACHIN"],companyCode:"GENEFLOW",status:"A",__typename:"Department"},{_id:"6651715aa262903d12cb92dc",lab:"GFL",code:"HEMATOLOGY",name:"HEMATOLOGY",shortName:null,hod:"DR SACHIN JAIN",authorizedSignatory:["DRSACHIN"],companyCode:"GENEFLOW",status:"A",__typename:"Department"}],LPL:[{_id:"66517175a262903d12cb9309",lab:"LPL",code:"HISTOPATHOLOGY",name:"HISTOPATHOLOGY",shortName:null,hod:"DR SACHIN JAIN",authorizedSignatory:["DRSACHIN"],companyCode:"GENEFLOW",status:"A",__typename:"Department"},{_id:"664872cd00e9a75b78f9d54c",lab:"LPL",code:"ONCOLOGY",name:"ONCOLOGY",shortName:null,hod:"DR SACHIN JAIN",authorizedSignatory:["DRSACHIN"],companyCode:"GENEFLOW",status:"A",__typename:"Department"}]},selected:[],displayKey:["code","name"]},showGroupHeaders:!0,collapsibleGroups:!1,loader:!1,hasError:!1,disable:!1,isUpperCase:!1,isSelectedStringArray:!1},parameters:{docs:{description:{story:'\n**Basic Grouped Multi-Select Autocomplete**\n\nThis story demonstrates the core functionality of the grouped autocomplete component with lab/department data:\n\n**Key Features:**\n- 🏥 **Grouped Display**: Departments organized by labs (GFL, LPL)\n- ✅ **Multi-Selection**: Select/deselect individual items or entire groups\n- 🔍 **Smart Search**: Search across department codes, names, and HOD names\n- ⚡ **Bulk Actions**: "All" and "None" buttons for each lab group\n- 📊 **Real-time Statistics**: Live count of selections and filtering\n- 🎯 **Visual Feedback**: Clear indication of selected items and groups\n\n**How to Test:**\n1. Click the input to open the dropdown\n2. Use individual checkboxes to select departments\n3. Try the "All" button to select all departments in a lab\n4. Use the "None" button to deselect all departments in a lab\n5. Search for specific departments using the search field\n6. Observe the selection summary and statistics updating in real-time\n\n**Data Structure:**\nThe component expects data in the format:\n```javascript\n{\n  list: {\n    "LAB_NAME": [array of department objects],\n    "LAB_NAME_2": [array of department objects]\n  },\n  selected: [array of selected department objects],\n  displayKey: [\'field1\', \'field2\'] // fields to show in dropdown\n}\n```\n        '}}}},__namedExportsOrder=["Basic"];Basic.parameters={...Basic.parameters,docs:{...Basic.parameters?.docs,source:{originalSource:"{\n  render: Template,\n  args: {\n    uniqueField: '_id',\n    placeholder: 'Search ...',\n    data: {\n      list: sampleGroupedData,\n      selected: [],\n      displayKey: ['code', 'name']\n    },\n    showGroupHeaders: true,\n    collapsibleGroups: false,\n    loader: false,\n    hasError: false,\n    disable: false,\n    isUpperCase: false,\n    isSelectedStringArray: false\n  },\n  parameters: {\n    docs: {\n      description: {\n        story: `\n**Basic Grouped Multi-Select Autocomplete**\n\nThis story demonstrates the core functionality of the grouped autocomplete component with lab/department data:\n\n**Key Features:**\n- 🏥 **Grouped Display**: Departments organized by labs (GFL, LPL)\n- ✅ **Multi-Selection**: Select/deselect individual items or entire groups\n- 🔍 **Smart Search**: Search across department codes, names, and HOD names\n- ⚡ **Bulk Actions**: \"All\" and \"None\" buttons for each lab group\n- 📊 **Real-time Statistics**: Live count of selections and filtering\n- 🎯 **Visual Feedback**: Clear indication of selected items and groups\n\n**How to Test:**\n1. Click the input to open the dropdown\n2. Use individual checkboxes to select departments\n3. Try the \"All\" button to select all departments in a lab\n4. Use the \"None\" button to deselect all departments in a lab\n5. Search for specific departments using the search field\n6. Observe the selection summary and statistics updating in real-time\n\n**Data Structure:**\nThe component expects data in the format:\n\\`\\`\\`javascript\n{\n  list: {\n    \"LAB_NAME\": [array of department objects],\n    \"LAB_NAME_2\": [array of department objects]\n  },\n  selected: [array of selected department objects],\n  displayKey: ['field1', 'field2'] // fields to show in dropdown\n}\n\\`\\`\\`\n        `\n      }\n    }\n  }\n}",...Basic.parameters?.docs?.source}}}},"./src/core-components/src/atoms/icons/icons.component.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{I:()=>Icon});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),lodash__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/lodash/lodash.js"),lodash__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_1__),_tooltip_tooltip_component__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/core-components/src/atoms/tooltip/tooltip.component.tsx"),_loadable_component__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@loadable/component/dist/esm/loadable.esm.mjs"),_tc_module_css__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/core-components/src/tc.module.css"),_tc_module_css__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_tc_module_css__WEBPACK_IMPORTED_MODULE_4__),_utils__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/core-components/src/utils/utility.util.ts");const Icon=({nameIcon,propsIcon,className,tooltip="",isDisable=!1,onClick})=>{try{const iconProps={...propsIcon,color:isDisable?"#808080":propsIcon?.color||"rgb(36 48 63)"},lib=nameIcon.startsWith("IoIo")?"io":nameIcon.startsWith("Io")?"io5":nameIcon.replace(/([a-z0-9])([A-Z])/g,"$1 $2").split(" ")[0].toLowerCase(),loadLibrary={fa:()=>__webpack_require__.e(9972).then(__webpack_require__.bind(__webpack_require__,"./node_modules/react-icons/fa/index.mjs")),md:()=>__webpack_require__.e(7284).then(__webpack_require__.bind(__webpack_require__,"./node_modules/react-icons/md/index.mjs")),io:()=>__webpack_require__.e(8995).then(__webpack_require__.bind(__webpack_require__,"./node_modules/react-icons/io/index.mjs")),fi:()=>__webpack_require__.e(4988).then(__webpack_require__.bind(__webpack_require__,"./node_modules/react-icons/fi/index.mjs")),bs:()=>__webpack_require__.e(9610).then(__webpack_require__.bind(__webpack_require__,"./node_modules/react-icons/bs/index.mjs")),hi:()=>__webpack_require__.e(6070).then(__webpack_require__.bind(__webpack_require__,"./node_modules/react-icons/hi/index.mjs")),go:()=>__webpack_require__.e(21).then(__webpack_require__.bind(__webpack_require__,"./node_modules/react-icons/go/index.mjs")),si:()=>__webpack_require__.e(3343).then(__webpack_require__.bind(__webpack_require__,"./node_modules/react-icons/si/index.mjs")),ti:()=>__webpack_require__.e(9434).then(__webpack_require__.bind(__webpack_require__,"./node_modules/react-icons/ti/index.mjs")),wi:()=>__webpack_require__.e(2651).then(__webpack_require__.bind(__webpack_require__,"./node_modules/react-icons/wi/index.mjs")),di:()=>__webpack_require__.e(2346).then(__webpack_require__.bind(__webpack_require__,"./node_modules/react-icons/di/index.mjs")),ri:()=>__webpack_require__.e(2816).then(__webpack_require__.bind(__webpack_require__,"./node_modules/react-icons/ri/index.mjs")),fc:()=>__webpack_require__.e(2406).then(__webpack_require__.bind(__webpack_require__,"./node_modules/react-icons/fc/index.mjs")),gr:()=>__webpack_require__.e(6888).then(__webpack_require__.bind(__webpack_require__,"./node_modules/react-icons/gr/index.mjs")),lu:()=>__webpack_require__.e(8006).then(__webpack_require__.bind(__webpack_require__,"./node_modules/react-icons/lu/index.mjs")),gi:()=>__webpack_require__.e(9611).then(__webpack_require__.bind(__webpack_require__,"./node_modules/react-icons/gi/index.mjs")),tb:()=>__webpack_require__.e(681).then(__webpack_require__.bind(__webpack_require__,"./node_modules/react-icons/tb/index.mjs")),rx:()=>__webpack_require__.e(201).then(__webpack_require__.bind(__webpack_require__,"./node_modules/react-icons/rx/index.mjs")),im:()=>__webpack_require__.e(7025).then(__webpack_require__.bind(__webpack_require__,"./node_modules/react-icons/im/index.mjs")),cg:()=>__webpack_require__.e(2265).then(__webpack_require__.bind(__webpack_require__,"./node_modules/react-icons/cg/index.mjs")),io5:()=>__webpack_require__.e(2990).then(__webpack_require__.bind(__webpack_require__,"./node_modules/react-icons/io5/index.mjs")),ai:()=>__webpack_require__.e(8741).then(__webpack_require__.bind(__webpack_require__,"./node_modules/react-icons/ai/index.mjs")),vsc:()=>__webpack_require__.e(3151).then(__webpack_require__.bind(__webpack_require__,"./node_modules/react-icons/vsc/index.mjs")),bi:()=>__webpack_require__.e(7488).then(__webpack_require__.bind(__webpack_require__,"./node_modules/react-icons/bi/index.mjs")),fa2:()=>__webpack_require__.e(9972).then(__webpack_require__.bind(__webpack_require__,"./node_modules/react-icons/fa/index.mjs")),ci:()=>__webpack_require__.e(1759).then(__webpack_require__.bind(__webpack_require__,"./node_modules/react-icons/ci/index.mjs")),lib:()=>__webpack_require__.e(1987).then(__webpack_require__.bind(__webpack_require__,"./node_modules/react-icons/lib/index.mjs")),lia:()=>__webpack_require__.e(6081).then(__webpack_require__.bind(__webpack_require__,"./node_modules/react-icons/lia/index.mjs")),pi:()=>__webpack_require__.e(5086).then(__webpack_require__.bind(__webpack_require__,"./node_modules/react-icons/pi/index.mjs")),tfi:()=>__webpack_require__.e(7544).then(__webpack_require__.bind(__webpack_require__,"./node_modules/react-icons/tfi/index.mjs")),fa6:()=>__webpack_require__.e(7056).then(__webpack_require__.bind(__webpack_require__,"./node_modules/react-icons/fa6/index.mjs"))}[lib]||(()=>__webpack_require__.e(7284).then(__webpack_require__.bind(__webpack_require__,"./node_modules/react-icons/md/index.mjs"))),ElementIcon=(0,_loadable_component__WEBPACK_IMPORTED_MODULE_3__.Ay)(loadLibrary,{resolveComponent:el=>null!=el[nameIcon]?el[nameIcon]:el[Object.keys(el.default)[0]]});return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:(0,_utils__WEBPACK_IMPORTED_MODULE_5__.cn)(_tc_module_css__WEBPACK_IMPORTED_MODULE_4___default().iconContainer,className),onClick:()=>{isDisable||onClick&&onClick()}},lodash__WEBPACK_IMPORTED_MODULE_1___default().isEmpty(tooltip)?react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Suspense,{fallback:react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",null,"Loading...")},react__WEBPACK_IMPORTED_MODULE_0__.createElement(ElementIcon,{...iconProps,className:(0,_utils__WEBPACK_IMPORTED_MODULE_5__.cn)(_tc_module_css__WEBPACK_IMPORTED_MODULE_4___default().icon)})):react__WEBPACK_IMPORTED_MODULE_0__.createElement(_tooltip_tooltip_component__WEBPACK_IMPORTED_MODULE_2__.m,{content:tooltip},react__WEBPACK_IMPORTED_MODULE_0__.createElement(ElementIcon,{...iconProps,className:(0,_utils__WEBPACK_IMPORTED_MODULE_5__.cn)(_tc_module_css__WEBPACK_IMPORTED_MODULE_4___default().icon)})))}catch(error){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null)}};try{Icon.displayName="Icon",Icon.__docgenInfo={description:"",displayName:"Icon",props:{nameIcon:{defaultValue:null,description:"",name:"nameIcon",required:!0,type:{name:"string"}},propsIcon:{defaultValue:null,description:"",name:"propsIcon",required:!1,type:{name:"IconBaseProps"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},tooltip:{defaultValue:{value:""},description:"",name:"tooltip",required:!1,type:{name:"string"}},isDisable:{defaultValue:{value:"false"},description:"",name:"isDisable",required:!1,type:{name:"boolean"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"(() => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/core-components/src/atoms/icons/icons.component.tsx#Icon"]={docgenInfo:Icon.__docgenInfo,name:"Icon",path:"src/core-components/src/atoms/icons/icons.component.tsx#Icon"})}catch(__react_docgen_typescript_loader_error){}},"./src/core-components/src/atoms/tooltip/tooltip.component.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{B:()=>TooltipProvider,m:()=>Tooltip});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_radix_ui_react_tooltip__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@radix-ui/react-tooltip/dist/index.mjs");const Tooltip=({align="center",side="bottom",children,content,avoidCollisions=!0,alignOffset=0,sideOffset=5,disabled=!1,delay=400,className})=>{const isChildrenString="string"==typeof children;return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_radix_ui_react_tooltip__WEBPACK_IMPORTED_MODULE_1__.bL,{delayDuration:delay},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_radix_ui_react_tooltip__WEBPACK_IMPORTED_MODULE_1__.l9,{asChild:!isChildrenString,disabled,className},children),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_radix_ui_react_tooltip__WEBPACK_IMPORTED_MODULE_1__.ZL,null,!disabled&&content&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(_radix_ui_react_tooltip__WEBPACK_IMPORTED_MODULE_1__.UC,{className,avoidCollisions,side,align,alignOffset,sideOffset},content,react__WEBPACK_IMPORTED_MODULE_0__.createElement(_radix_ui_react_tooltip__WEBPACK_IMPORTED_MODULE_1__.i3,{className}))))},TooltipProvider=_radix_ui_react_tooltip__WEBPACK_IMPORTED_MODULE_1__.Kq;try{Tooltip.displayName="Tooltip",Tooltip.__docgenInfo={description:"The `Tooltip` must be nested somewhere inside the `TooltipProvider` in the component tree.",displayName:"Tooltip",props:{className:{defaultValue:null,description:"custom classname to pass to the tooltip element",name:"className",required:!1,type:{name:"string"}},delay:{defaultValue:{value:"400"},description:"The delay (in ms) before showing the tooltip",name:"delay",required:!1,type:{name:"number"}},side:{defaultValue:{value:"bottom"},description:"Sets the preferred position relative to the trigger",name:"side",required:!1,type:{name:"enum",value:[{value:'"top"'},{value:'"right"'},{value:'"bottom"'},{value:'"left"'}]}},sideOffset:{defaultValue:{value:"5"},description:"Space between the tooltip element and anchor element (arrow not included in calculation)",name:"sideOffset",required:!1,type:{name:"number"}},content:{defaultValue:null,description:"Use this to set the content of the tooltip",name:"content",required:!1,type:{name:"ReactNode"}},align:{defaultValue:{value:"center"},description:"Sets the preferred alignment relative to the trigger & position",name:"align",required:!1,type:{name:"enum",value:[{value:'"start"'},{value:'"center"'},{value:'"end"'}]}},alignOffset:{defaultValue:{value:"0"},description:"Space between alignment point and tooltip",name:"alignOffset",required:!1,type:{name:"number"}},avoidCollisions:{defaultValue:{value:"true"},description:"If set to true then in the case of collision finds the alternate ways by changing the position or aligment or both to properly display tooltip",name:"avoidCollisions",required:!1,type:{name:"boolean"}},disabled:{defaultValue:{value:"false"},description:"Set true to prevent tooltip from displaying",name:"disabled",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/core-components/src/atoms/tooltip/tooltip.component.tsx#Tooltip"]={docgenInfo:Tooltip.__docgenInfo,name:"Tooltip",path:"src/core-components/src/atoms/tooltip/tooltip.component.tsx#Tooltip"})}catch(__react_docgen_typescript_loader_error){}try{TooltipProvider.displayName="TooltipProvider",TooltipProvider.__docgenInfo={description:"",displayName:"TooltipProvider",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/core-components/src/atoms/tooltip/tooltip.component.tsx#TooltipProvider"]={docgenInfo:TooltipProvider.__docgenInfo,name:"TooltipProvider",path:"src/core-components/src/atoms/tooltip/tooltip.component.tsx#TooltipProvider"})}catch(__react_docgen_typescript_loader_error){}},"./src/core-components/src/utils/utility.util.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{cn:()=>cn});var clsx__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/clsx/dist/clsx.mjs"),tailwind_merge__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/tailwind-merge/dist/bundle-mjs.mjs");const cn=(...inputs)=>(0,tailwind_merge__WEBPACK_IMPORTED_MODULE_0__.QP)((0,clsx__WEBPACK_IMPORTED_MODULE_1__.A)(inputs))}}]);