"use strict";(self.webpackChunkreact_restyle_components=self.webpackChunkreact_restyle_components||[]).push([[4506],{"./node_modules/@storybook/addon-actions/dist/index.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{XI:()=>action});var external_STORYBOOK_MODULE_PREVIEW_API_=__webpack_require__("storybook/internal/preview-api"),external_STORYBOOK_MODULE_CORE_EVENTS_PREVIEW_ERRORS_=__webpack_require__("storybook/internal/preview-errors"),external_STORYBOOK_MODULE_GLOBAL_=__webpack_require__("@storybook/global"),v4=__webpack_require__("./node_modules/uuid/dist/esm-browser/v4.js"),ADDON_ID="storybook/actions",EVENT_ID=`${ADDON_ID}/action-event`,config={depth:10,clearOnStoryChange:!0,limit:50},findProto=(obj,callback)=>{let proto=Object.getPrototypeOf(obj);return!proto||callback(proto)?proto:findProto(proto,callback)},serializeArg=a=>{if("object"==typeof(e=a)&&e&&findProto(e,(proto=>/^Synthetic(?:Base)?Event$/.test(proto.constructor.name)))&&"function"==typeof e.persist){let e=Object.create(a.constructor.prototype,Object.getOwnPropertyDescriptors(a));e.persist();let viewDescriptor=Object.getOwnPropertyDescriptor(e,"view"),view=viewDescriptor?.value;return"object"==typeof view&&"Window"===view?.constructor.name&&Object.defineProperty(e,"view",{...viewDescriptor,value:Object.create(view.constructor.prototype)}),e}var e;return a},generateId=()=>"object"==typeof crypto&&"function"==typeof crypto.getRandomValues?(0,v4.A)():Date.now().toString(36)+Math.random().toString(36).substring(2);function action(name,options={}){let actionOptions={...config,...options},handler=function(...args){if(options.implicit){let storyRenderer=("__STORYBOOK_PREVIEW__"in external_STORYBOOK_MODULE_GLOBAL_.global?external_STORYBOOK_MODULE_GLOBAL_.global.__STORYBOOK_PREVIEW__:void 0)?.storyRenders.find((render=>"playing"===render.phase||"rendering"===render.phase));if(storyRenderer){let deprecated=!window?.FEATURES?.disallowImplicitActionsInRenderV8,error=new external_STORYBOOK_MODULE_CORE_EVENTS_PREVIEW_ERRORS_.ImplicitActionsDuringRendering({phase:storyRenderer.phase,name,deprecated});if(!deprecated)throw error;console.warn(error)}}let channel=external_STORYBOOK_MODULE_PREVIEW_API_.addons.getChannel(),id=generateId(),serializedArgs=args.map(serializeArg),normalizedArgs=args.length>1?serializedArgs:serializedArgs[0],actionDisplayToEmit={id,count:0,data:{name,args:normalizedArgs},options:{...actionOptions,maxDepth:5+(actionOptions.depth||3),allowFunction:actionOptions.allowFunction||!1}};channel.emit(EVENT_ID,actionDisplayToEmit)};return handler.isAction=!0,handler.implicit=options.implicit,handler}},"./src/core-components/src/molecules/auto-complete-filter-multi-select-multi-fields-display-drag-drop/auto-complete-filter-multi-select-multi-fields-display-drag-drop.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Basic:()=>Basic,__namedExportsOrder:()=>__namedExportsOrder,default:()=>auto_complete_filter_multi_select_multi_fields_display_drag_drop_stories});var react=__webpack_require__("./node_modules/react/index.js"),dist=__webpack_require__("./node_modules/@storybook/addon-actions/dist/index.mjs"),lib=__webpack_require__("./src/core-components/lib/index.js"),core_esm=__webpack_require__("./node_modules/@dnd-kit/core/dist/core.esm.js"),sortable_esm=__webpack_require__("./node_modules/@dnd-kit/sortable/dist/sortable.esm.js"),utilities_esm=__webpack_require__("./node_modules/@dnd-kit/utilities/dist/utilities.esm.js"),tc_module=__webpack_require__("./src/core-components/src/tc.module.css"),tc_module_default=__webpack_require__.n(tc_module),utility_util=__webpack_require__("./src/core-components/src/utils/utility.util.ts");const DraggableSelectedItem=({item,index,onRemove,displayKey,uniqueField})=>{const{attributes,listeners,setNodeRef,transform,transition,isDragging}=(0,sortable_esm.gl)({id:item[uniqueField]}),style={transform:utilities_esm.Ks.Transform.toString(transform),transition,opacity:isDragging?.5:1};return react.createElement("div",{ref:setNodeRef,style,...attributes,...listeners,className:(0,utility_util.cn)(tc_module_default().flex,tc_module_default()["text-white"],tc_module_default()["gap-1"],tc_module_default()["bg-blue-500"],tc_module_default()["p-1"],tc_module_default().rounded,tc_module_default()["cursor-move"])},react.createElement("div",{className:(0,utility_util.cn)(tc_module_default().flex,tc_module_default()["w-fit"],tc_module_default()["cursor-pointer"],tc_module_default()["items-center"]),onClick:e=>{e.stopPropagation(),onRemove(index)}},react.createElement(lib.In,{nameIcon:"BsTrashFill",propsIcon:{size:16,color:"white"}})),react.createElement("span",null,displayKey?.map((key=>`${item[key]}`)).join(" - ")))},AutoCompleteFilterMultiSelectMultiFieldsDisplayDragDrop=({key,uniqueField="_id",loader=!1,placeholder="Search...",data,hasError=!1,disable=!1,isUpperCase=!1,name,defaultValue="",onFilter,onUpdate,onSelect,onBlur})=>{const[value,setValue]=(0,react.useState)(""),[options,setOptions]=(0,react.useState)(),[originalOptions,setOriginalOptions]=(0,react.useState)(),[isListOpen,setIsListOpen]=(0,react.useState)(!1),refSelectedItems=(0,react.useRef)(data?.selected||[]),[selectedItems,setSelectedItems]=(0,react.useState)(data?.selected||[]),sensors=(0,core_esm.FR)((0,core_esm.MS)(core_esm.AN));(0,react.useEffect)((()=>{defaultValue&&setValue(defaultValue)}),[defaultValue]);const wrapperRef=(0,react.useRef)(null);var ref;ref=wrapperRef,(0,react.useEffect)((()=>{function handleClickOutside(event){ref.current&&!ref.current.contains(event.target)&&isListOpen&&(onUpdate&&onUpdate(refSelectedItems.current),setIsListOpen(!1),setValue(""))}return document.addEventListener("mousedown",handleClickOutside),()=>{document.removeEventListener("mousedown",handleClickOutside)}}),[ref,isListOpen]);const getSelectedItem=(selectedItem,list)=>{const finalList=list?.filter(((item,index)=>(item.selected=!1,selectedItem&&selectedItem?.length>0?selectedItem?.find(((sItem,index)=>{sItem[uniqueField]===item[uniqueField]&&(item.selected=!0)})):item.selected=!1,item)));return list=finalList};(0,react.useEffect)((()=>{setOriginalOptions(getSelectedItem(data?.selected,data?.list)),setOptions(getSelectedItem(data?.selected,data?.list));const itemsWithSort=data?.selected?.map(((sItem,index)=>({...sItem,sort:index?.toString()})))||[];refSelectedItems.current=itemsWithSort,setSelectedItems(itemsWithSort)}),[data,data?.selected]);const handleRemoveItem=index=>{const fieldsList=[...refSelectedItems.current?.slice(0,index)||[],...refSelectedItems.current?.slice(index+1)||[]],updatedItems=fieldsList?.map(((item,idx)=>({...item,sort:idx.toString()})));refSelectedItems.current=updatedItems,setSelectedItems([...updatedItems])};return react.createElement(react.Fragment,null,react.createElement("div",{ref:wrapperRef,className:(0,utility_util.cn)(tc_module_default()["w-full"],tc_module_default().relative),key:`${key}_wrapperView`},react.createElement("div",{className:(0,utility_util.cn)(tc_module_default().flex,tc_module_default()["items-center"],tc_module_default()["leading-4"],tc_module_default()["p-2"],tc_module_default()["focus:outline-none"],tc_module_default()["focus:ring"],tc_module_default()["w-full"],tc_module_default()["shadow-sm"],tc_module_default()["sm:text-base"],tc_module_default().border,tc_module_default()["rounded-md"],{[tc_module_default()["border-red"]]:hasError,[tc_module_default()["border-gray-300"]]:!hasError})},react.createElement("input",{placeholder,disabled:disable,name,value:isListOpen?isUpperCase?value?.toUpperCase():value:data?.selected?.length>0?`${data?.selected&&data?.selected?.length||0} Items`:value,className:(0,utility_util.cn)(tc_module_default()["w-full"],tc_module_default()["focus:outline-none"],tc_module_default()["bg-none"]),onKeyUp:e=>{if(8===(e.which?e.which:e.keyCode)){const search=e.target.value;onFilter&&onFilter(search)}},onChange:e=>{const search=e.target.value;setValue(search),onFilter&&onFilter(search)},onClick:()=>setIsListOpen(!0),onBlur:e=>onBlur&&onBlur(e),key:`${key}_input`,id:`${key}_input_text`}),loader&&react.createElement(lib._7,null),isListOpen?react.createElement(lib.In,{nameIcon:"FaChevronUp",propsIcon:{size:16}}):react.createElement(lib.In,{nameIcon:"FaChevronDown",propsIcon:{size:16}})),options&&isListOpen?options?.length>0&&react.createElement("div",{className:(0,utility_util.cn)(tc_module_default().flex,tc_module_default()["flex-col"],tc_module_default().absolute,tc_module_default()["rounded-sm"],tc_module_default()["z-500"],tc_module_default()["w-full"]),style:{zIndex:80},key:`${key}_list_wrapper_view`},react.createElement("div",{className:(0,utility_util.cn)(tc_module_default().flex,tc_module_default()["w-full"],tc_module_default()["bg-gray-400"])},react.createElement(core_esm.Mp,{sensors,collisionDetection:core_esm.fp,onDragEnd:event=>{const{active,over}=event;if(active.id!==over?.id){const oldIndex=refSelectedItems.current.findIndex((item=>item.sort===active.id)),newIndex=refSelectedItems.current.findIndex((item=>item.sort===over.id));if(-1!==oldIndex&&-1!==newIndex){const reorderedItems=(0,sortable_esm.be)(refSelectedItems.current,oldIndex,newIndex),updatedItems=reorderedItems?.map(((item,index)=>({...item,sort:index.toString()})));refSelectedItems.current=updatedItems,setSelectedItems([...updatedItems])}}}},selectedItems?.length>0&&react.createElement(sortable_esm.gB,{items:selectedItems.map((item=>item.sort)),strategy:sortable_esm.m$},react.createElement("div",{className:(0,utility_util.cn)(tc_module_default().flex,tc_module_default()["flex-wrap"],tc_module_default()["gap-1"],tc_module_default()["bg-gray-400"],tc_module_default()["p-1"])},selectedItems?.map(((item,index)=>react.createElement(DraggableSelectedItem,{key:item.sort,item,index,onRemove:handleRemoveItem,displayKey:data.displayKey,uniqueField:"sort"}))))))),react.createElement("ul",{className:(0,utility_util.cn)(tc_module_default().flex,tc_module_default()["flex-col"],tc_module_default()["gap-1"],tc_module_default()["bg-gray-200"],tc_module_default()["p-2"],tc_module_default()["overflow-y-scroll"],tc_module_default()["w-full"]),key:`${key}_listView`,id:`${key}_listView`,style:{maxHeight:"calc(100vh - 20vh)"}},options?.map(((item,index)=>react.createElement(react.Fragment,null,react.createElement("li",{key:`${key}_${index}_list`,className:(0,utility_util.cn)(tc_module_default().flex,tc_module_default()["gap-4"],tc_module_default()["p-1"])},react.createElement("label",{className:(0,utility_util.cn)(tc_module_default().flex,tc_module_default()["items-center"])},react.createElement("input",{className:(0,utility_util.cn)(tc_module_default().flex,tc_module_default()["h-4"],tc_module_default()["w-4"]),type:"checkbox",checked:item.selected,onChange:()=>onSelect(item),key:`${key}_${index}_check_box_view`,id:`${key}_${index}_check_box_view`})," ",react.createElement("span",{className:(0,utility_util.cn)(tc_module_default().flex,tc_module_default()["ml-2"])},data.displayKey.map((key=>`${item[key]}\n                              `)).join(" - "))))))))):null))};try{AutoCompleteFilterMultiSelectMultiFieldsDisplayDragDrop.displayName="AutoCompleteFilterMultiSelectMultiFieldsDisplayDragDrop",AutoCompleteFilterMultiSelectMultiFieldsDisplayDragDrop.__docgenInfo={description:"",displayName:"AutoCompleteFilterMultiSelectMultiFieldsDisplayDragDrop",props:{key:{defaultValue:null,description:"",name:"key",required:!1,type:{name:"string"}},uniqueField:{defaultValue:{value:"_id"},description:"",name:"uniqueField",required:!1,type:{name:"string"}},loader:{defaultValue:{value:"false"},description:"",name:"loader",required:!1,type:{name:"boolean"}},placeholder:{defaultValue:{value:"Search..."},description:"",name:"placeholder",required:!1,type:{name:"string"}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"any"}},hasError:{defaultValue:{value:"false"},description:"",name:"hasError",required:!1,type:{name:"boolean"}},disable:{defaultValue:{value:"false"},description:"",name:"disable",required:!1,type:{name:"boolean"}},isUpperCase:{defaultValue:{value:"false"},description:"",name:"isUpperCase",required:!1,type:{name:"boolean"}},name:{defaultValue:null,description:"",name:"name",required:!1,type:{name:"string"}},defaultValue:{defaultValue:{value:""},description:"",name:"defaultValue",required:!1,type:{name:"string"}},onFilter:{defaultValue:null,description:"",name:"onFilter",required:!1,type:{name:"((value: string) => void)"}},onUpdate:{defaultValue:null,description:"",name:"onUpdate",required:!0,type:{name:"(item: any) => void"}},onSelect:{defaultValue:null,description:"",name:"onSelect",required:!0,type:{name:"(item: any) => any"}},onBlur:{defaultValue:null,description:"",name:"onBlur",required:!1,type:{name:"((e: any) => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/core-components/src/molecules/auto-complete-filter-multi-select-multi-fields-display-drag-drop/auto-complete-filter-multi-select-multi-fields-display-drag-drop.component.tsx#AutoCompleteFilterMultiSelectMultiFieldsDisplayDragDrop"]={docgenInfo:AutoCompleteFilterMultiSelectMultiFieldsDisplayDragDrop.__docgenInfo,name:"AutoCompleteFilterMultiSelectMultiFieldsDisplayDragDrop",path:"src/core-components/src/molecules/auto-complete-filter-multi-select-multi-fields-display-drag-drop/auto-complete-filter-multi-select-multi-fields-display-drag-drop.component.tsx#AutoCompleteFilterMultiSelectMultiFieldsDisplayDragDrop"})}catch(__react_docgen_typescript_loader_error){}const auto_complete_filter_multi_select_multi_fields_display_drag_drop_stories={title:"Core Components/Molecules/AutoCompleteFilterMultiSelectMultiFieldsDisplayDragDrop",component:AutoCompleteFilterMultiSelectMultiFieldsDisplayDragDrop,tags:["autodocs"],parameters:{componentSubtitle:"import { AutoCompleteFilterMultiSelectMultiFieldsDisplayDragDrop } from 'react-restyle-components'",docs:{description:{component:"An advanced auto-complete multi-select component with drag-and-drop reordering, filtering, and multi-field display capabilities."}}},argTypes:{uniqueField:{control:"text",description:"Field to use as unique identifier"},loader:{control:"boolean",description:"Show loading spinner"},placeholder:{control:"text",description:"Input placeholder text"},hasError:{control:"boolean",description:"Show error state"},disable:{control:"boolean",description:"Disable the component"},isUpperCase:{control:"boolean",description:"Transform input to uppercase"},name:{control:"text",description:"Input name attribute"},defaultValue:{control:"text",description:"Default input value"}}},Basic={render:args=>{const[selectedItems,setSelectedItems]=(0,react.useState)(args?.data?.selected||[]),[filteredData,setFilteredData]=(0,react.useState)(args?.data||{list:[],selected:[],displayKey:[]}),safeFilteredData={list:filteredData?.list||[],selected:selectedItems||[],displayKey:filteredData?.displayKey||args?.data?.displayKey||[]};return react.createElement("div",{style:{minHeight:"300px",padding:"20px"}},react.createElement(AutoCompleteFilterMultiSelectMultiFieldsDisplayDragDrop,{...args,data:safeFilteredData,onUpdate:items=>{console.log("Updated items:",items),setSelectedItems(items||[]),(0,dist.XI)("onUpdate")(items)},onSelect:item=>{if(console.log("Selected item:",item),!item||!item?._id)return console.warn("Invalid item selected:",item),selectedItems;const isSelected=selectedItems?.some((selected=>selected?._id===item?._id));let updatedSelectedItems;return updatedSelectedItems=isSelected?selectedItems?.filter((selected=>selected?._id!==item?._id))||[]:[...selectedItems||[],item],setSelectedItems(updatedSelectedItems),(0,dist.XI)("onSelect")(item),updatedSelectedItems},onFilter:value=>{if(console.log("Filter value:",value),(0,dist.XI)("onFilter")(value),args?.data&&args?.data?.list&&Array.isArray(args?.data?.list))if(value&&""!==value.trim()){const filteredOptions=args.data?.list?.filter((item=>args.data?.displayKey?.some((key=>item?.[key]?.toString().toLowerCase()?.includes(value?.toLowerCase())))))||[];setFilteredData({...args?.data,list:filteredOptions})}else setFilteredData(args?.data);else console.warn("Invalid data structure for filtering")},onBlur:e=>{console.log("Blur event:",e),(0,dist.XI)("onBlur")(e)}}),react.createElement("div",{style:{marginTop:"20px",padding:"15px",backgroundColor:"#f8f9fa",borderRadius:"4px"}},react.createElement("h4",{style:{margin:"0 0 10px 0",fontSize:"14px",color:"#333"}},"Selected Items (",selectedItems?.length||0,"):"),selectedItems&&selectedItems?.length>0?react.createElement("ul",{style:{margin:0,paddingLeft:"20px",fontSize:"12px"}},selectedItems?.map(((item,index)=>react.createElement("li",{key:item?._id||index,style:{marginBottom:"2px",color:"#666"}},index+1,". ",item?.code||"N/A"," - ",item?.name||"N/A"," ",item?.lastName||"N/A"," (",item?.department||"N/A",")")))):react.createElement("p",{style:{margin:0,fontSize:"12px",color:"#999"}},"No items selected")))},args:{key:"employee-selector",uniqueField:"_id",placeholder:"Search employees...",data:{list:[{_id:"1",code:"EMP001",name:"John",lastName:"Doe",department:"Engineering",position:"Senior Developer"},{_id:"2",code:"EMP002",name:"Jane",lastName:"Smith",department:"Design",position:"UI/UX Designer"},{_id:"3",code:"EMP003",name:"Mike",lastName:"Johnson",department:"Marketing",position:"Marketing Manager"},{_id:"4",code:"EMP004",name:"Sarah",lastName:"Williams",department:"Engineering",position:"Frontend Developer"},{_id:"5",code:"EMP005",name:"David",lastName:"Brown",department:"Sales",position:"Sales Representative"},{_id:"6",code:"EMP006",name:"Emily",lastName:"Davis",department:"HR",position:"HR Specialist"},{_id:"7",code:"EMP007",name:"Robert",lastName:"Miller",department:"Engineering",position:"Backend Developer"},{_id:"8",code:"EMP008",name:"Lisa",lastName:"Wilson",department:"Finance",position:"Financial Analyst"},{_id:"9",code:"EMP009",name:"Chris",lastName:"Moore",department:"Operations",position:"Operations Manager"},{_id:"10",code:"EMP010",name:"Amanda",lastName:"Taylor",department:"Design",position:"Graphic Designer"},{_id:"11",code:"EMP011",name:"Brian",lastName:"Clark",department:"Engineering",position:"DevOps Engineer"},{_id:"12",code:"EMP012",name:"Jessica",lastName:"Lewis",department:"Marketing",position:"Content Strategist"},{_id:"13",code:"EMP013",name:"Matthew",lastName:"Walker",department:"Sales",position:"Account Manager"},{_id:"14",code:"EMP014",name:"Ashley",lastName:"Hall",department:"HR",position:"Recruiter"},{_id:"15",code:"EMP015",name:"Joshua",lastName:"Allen",department:"Finance",position:"Accountant"},{_id:"16",code:"EMP016",name:"Megan",lastName:"Young",department:"Operations",position:"Logistics Coordinator"},{_id:"17",code:"EMP017",name:"Andrew",lastName:"King",department:"Engineering",position:"QA Engineer"},{_id:"18",code:"EMP018",name:"Rachel",lastName:"Wright",department:"Design",position:"Product Designer"},{_id:"19",code:"EMP019",name:"Daniel",lastName:"Lopez",department:"Marketing",position:"SEO Specialist"},{_id:"20",code:"EMP020",name:"Nicole",lastName:"Hill",department:"Sales",position:"Sales Manager"},{_id:"21",code:"EMP021",name:"Kevin",lastName:"Scott",department:"HR",position:"HR Manager"},{_id:"22",code:"EMP022",name:"Laura",lastName:"Green",department:"Finance",position:"Payroll Specialist"},{_id:"23",code:"EMP023",name:"Justin",lastName:"Adams",department:"Operations",position:"Facilities Manager"},{_id:"24",code:"EMP024",name:"Stephanie",lastName:"Nelson",department:"Engineering",position:"Mobile Developer"},{_id:"25",code:"EMP025",name:"Ryan",lastName:"Baker",department:"Design",position:"Interaction Designer"},{_id:"26",code:"EMP026",name:"Kimberly",lastName:"Carter",department:"Marketing",position:"Brand Manager"},{_id:"27",code:"EMP027",name:"Eric",lastName:"Mitchell",department:"Sales",position:"Business Development"},{_id:"28",code:"EMP028",name:"Melissa",lastName:"Perez",department:"HR",position:"Training Specialist"},{_id:"29",code:"EMP029",name:"Brandon",lastName:"Roberts",department:"Finance",position:"Financial Controller"},{_id:"30",code:"EMP030",name:"Samantha",lastName:"Turner",department:"Operations",position:"Operations Analyst"}],selected:[],displayKey:["code","name","lastName"]},hasError:!1,disable:!1,isUpperCase:!1,name:"employeeSelect",loader:!1},parameters:{docs:{description:{story:"Basic auto-complete multi-select with drag-and-drop functionality. Shows 10 employee records with code, name, and department fields."}}}},__namedExportsOrder=["Basic"];Basic.parameters={...Basic.parameters,docs:{...Basic.parameters?.docs,source:{originalSource:"{\n  render: Template,\n  args: {\n    key: 'employee-selector',\n    uniqueField: '_id',\n    placeholder: 'Search employees...',\n    data: sampleData,\n    hasError: false,\n    disable: false,\n    isUpperCase: false,\n    name: 'employeeSelect',\n    loader: false\n  },\n  parameters: {\n    docs: {\n      description: {\n        story: 'Basic auto-complete multi-select with drag-and-drop functionality. Shows 10 employee records with code, name, and department fields.'\n      }\n    }\n  }\n}",...Basic.parameters?.docs?.source}}}}}]);