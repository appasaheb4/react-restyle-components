"use strict";(self.webpackChunkreact_restyle_components=self.webpackChunkreact_restyle_components||[]).push([[4120],{"./src/core-components/src/molecules/auto-complete-filter-multiple-select-multiple-fields-display/auto-complete-filter-multiple-select-multiple-fields-display.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Basic:()=>Basic,__namedExportsOrder:()=>__namedExportsOrder,default:()=>auto_complete_filter_multiple_select_multiple_fields_display_stories});var react=__webpack_require__("./node_modules/react/index.js"),icons_component=__webpack_require__("./src/core-components/src/atoms/icons/icons.component.tsx"),tc_module=__webpack_require__("./src/core-components/src/tc.module.css"),tc_module_default=__webpack_require__.n(tc_module),utility_util=__webpack_require__("./src/core-components/src/utils/utility.util.ts"),lib=__webpack_require__("./node_modules/@techabl/core-utils/lib/index.js");const AutoCompleteFilterMultipleSelectMultipleFieldsDisplay=({uniqueField="_id",isSelectedStringArray=!1,loader=!1,placeholder="Search...",data,hasError=!1,disable=!1,isUpperCase=!1,name,onFilter,onUpdate,onSelect,onBlur})=>{const[value,setValue]=(0,react.useState)(""),[options,setOptions]=(0,react.useState)(),[originalOptions,setOriginalOptions]=(0,react.useState)(),[isListOpen,setIsListOpen]=(0,react.useState)(!1),wrapperRef=(0,react.useRef)(null);var ref;ref=wrapperRef,(0,react.useEffect)((()=>{function handleClickOutside(event){ref.current&&!ref.current.contains(event.target)&&isListOpen&&(originalOptions&&options&&isListOpen&&onUpdate&&onUpdate(data.selected),setIsListOpen(!1),setValue(""))}return document.addEventListener("mousedown",handleClickOutside),()=>{document.removeEventListener("mousedown",handleClickOutside)}}),[ref,isListOpen]);let count=0;const getSelectedItem=(selectedItem,list)=>{if(0===count){const finalList=list?.filter(((item,index)=>(item.selected=!1,selectedItem&&selectedItem.length>0?selectedItem.find(((sItem,index)=>{isSelectedStringArray?sItem===item[uniqueField]&&(item.selected=!0):sItem[uniqueField]===item[uniqueField]&&(item.selected=!0)})):item.selected=!1,count++,item)));list=finalList}return list};(0,react.useEffect)((()=>{setOriginalOptions(getSelectedItem(data.selected,data.list)),setOptions(getSelectedItem(data.selected,data.list))}),[data,data.selected]);return react.createElement(react.Fragment,null,react.createElement("div",{ref:wrapperRef,className:(0,utility_util.cn)(tc_module_default()["w-full"],tc_module_default().relative)},react.createElement("div",{className:(0,utility_util.cn)(tc_module_default().flex,tc_module_default()["items-center"],tc_module_default()["leading-4"],tc_module_default()["p-2"],tc_module_default()["focus:outline-none"],tc_module_default()["focus:ring"],tc_module_default()["w-full"],tc_module_default()["shadow-sm"],tc_module_default()["sm:text-base"],tc_module_default().border,tc_module_default()["rounded-md"],{[tc_module_default()["border-red"]]:hasError,[tc_module_default()["border-gray-300"]]:!hasError})},react.createElement("input",{placeholder,disabled:disable,name,value:isListOpen?isUpperCase?value?.toUpperCase():value:data?.selected?.length>0?`${data.selected&&data.selected.length||0} Items`:value,className:(0,utility_util.cn)(tc_module_default()["w-full"],tc_module_default()["focus:outline-none"],tc_module_default()["bg-none"]),onKeyUp:e=>{if(8===(e.which?e.which:e.keyCode)){const search=e.target.value;(0,lib.debounce)((()=>{onFilter&&onFilter(search)}))}},onChange:e=>{const search=e.target.value;setValue(search),(0,lib.debounce)((()=>{onFilter&&onFilter(search)}))},onClick:()=>setIsListOpen(!0),onBlur:e=>onBlur&&onBlur(e)}),isListOpen?react.createElement(icons_component.I,{nameIcon:"FaChevronUp",propsIcon:{color:"#000000",size:22}}):react.createElement(icons_component.I,{nameIcon:"FaChevronDown",propsIcon:{color:"#000000",size:22}})),options&&isListOpen?options?.length>0&&react.createElement("div",{className:(0,utility_util.cn)(tc_module_default().flex,tc_module_default()["mt-1"],tc_module_default().absolute,tc_module_default()["rounded-sm"],tc_module_default()["z-500"],tc_module_default()["w-full"]),style:{zIndex:80}},react.createElement("ul",{className:(0,utility_util.cn)(tc_module_default().flex,tc_module_default()["flex-col"],tc_module_default()["gap-2"],tc_module_default()["bg-gray-200"],tc_module_default()["p-2"],tc_module_default()["w-full"])},options?.map(((item,index)=>react.createElement(react.Fragment,null,react.createElement("li",{key:index,className:(0,utility_util.cn)(tc_module_default().flex,tc_module_default()["gap-4"],tc_module_default()["p-2"])},react.createElement("label",{className:(0,utility_util.cn)(tc_module_default().flex)},react.createElement("input",{id:index?.toString(),className:(0,utility_util.cn)(tc_module_default().flex,tc_module_default()["h-4"],tc_module_default()["w-4"]),type:"checkbox",checked:item.selected,onChange:()=>onSelect(item)})," ",react.createElement("span",{className:(0,utility_util.cn)(tc_module_default().flex,tc_module_default()["h-4"],tc_module_default()["ml-2"])},data.displayKey.map((key=>`${item[key]}\n                              `)).join(" - "))))))))):null))};try{AutoCompleteFilterMultipleSelectMultipleFieldsDisplay.displayName="AutoCompleteFilterMultipleSelectMultipleFieldsDisplay",AutoCompleteFilterMultipleSelectMultipleFieldsDisplay.__docgenInfo={description:"",displayName:"AutoCompleteFilterMultipleSelectMultipleFieldsDisplay",props:{uniqueField:{defaultValue:{value:"_id"},description:"",name:"uniqueField",required:!1,type:{name:"string"}},isSelectedStringArray:{defaultValue:{value:"false"},description:"",name:"isSelectedStringArray",required:!1,type:{name:"boolean"}},loader:{defaultValue:{value:"false"},description:"",name:"loader",required:!1,type:{name:"boolean"}},placeholder:{defaultValue:{value:"Search..."},description:"",name:"placeholder",required:!1,type:{name:"string"}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"any"}},hasError:{defaultValue:{value:"false"},description:"",name:"hasError",required:!1,type:{name:"boolean"}},disable:{defaultValue:{value:"false"},description:"",name:"disable",required:!1,type:{name:"boolean"}},isUpperCase:{defaultValue:{value:"false"},description:"",name:"isUpperCase",required:!1,type:{name:"boolean"}},name:{defaultValue:null,description:"",name:"name",required:!1,type:{name:"string"}},onFilter:{defaultValue:null,description:"",name:"onFilter",required:!1,type:{name:"((value: string) => void)"}},onUpdate:{defaultValue:null,description:"",name:"onUpdate",required:!0,type:{name:"(item: any) => void"}},onSelect:{defaultValue:null,description:"",name:"onSelect",required:!0,type:{name:"(item: any) => any"}},onBlur:{defaultValue:null,description:"",name:"onBlur",required:!1,type:{name:"((e: any) => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/core-components/src/molecules/auto-complete-filter-multiple-select-multiple-fields-display/auto-complete-filter-multiple-select-multiple-fields-display.component.tsx#AutoCompleteFilterMultipleSelectMultipleFieldsDisplay"]={docgenInfo:AutoCompleteFilterMultipleSelectMultipleFieldsDisplay.__docgenInfo,name:"AutoCompleteFilterMultipleSelectMultipleFieldsDisplay",path:"src/core-components/src/molecules/auto-complete-filter-multiple-select-multiple-fields-display/auto-complete-filter-multiple-select-multiple-fields-display.component.tsx#AutoCompleteFilterMultipleSelectMultipleFieldsDisplay"})}catch(__react_docgen_typescript_loader_error){}const auto_complete_filter_multiple_select_multiple_fields_display_stories={title:"Core Components/Molecules/AutoCompleteFilterMultipleSelectMultipleFieldsDisplay",component:AutoCompleteFilterMultipleSelectMultipleFieldsDisplay,tags:["autodocs"],parameters:{componentSubtitle:"import { AutoCompleteFilterMultipleSelectMultipleFieldsDisplay } from 'react-restyle-components'"}},Basic=(args=>{const[selectedItems,setSelectedItems]=(0,react.useState)(args.data.selected);return react.createElement("div",{style:{minHeight:"20vh"}},react.createElement(AutoCompleteFilterMultipleSelectMultipleFieldsDisplay,{...args,data:{...args.data,selected:selectedItems},onSelect:item=>{const updatedSelectedItems=selectedItems.includes(item)?selectedItems.filter((selectedItem=>selectedItem!==item)):[...selectedItems,item];console.log({updatedSelectedItems}),setSelectedItems(updatedSelectedItems),args.onSelect(updatedSelectedItems)}}))}).bind({});Basic.args={data:{list:[{_id:"66532a99bbfed4eea86eae23",code:82,description:"TEST1",libraryCode:"TEST1"},{_id:"6652b6d8bcef7f713cb547d4",code:81,description:"TEST",libraryCode:"TEST"}],selected:[],displayKey:["libraryCode","description"]},onUpdate:item=>{console.log({item})},onSelect:item=>{console.log({item})}};const __namedExportsOrder=["Basic"];Basic.parameters={...Basic.parameters,docs:{...Basic.parameters?.docs,source:{originalSource:"(args: AutoCompleteFilterMultipleSelectMultipleFieldsDisplayProps) => {\n  const [selectedItems, setSelectedItems] = useState(args.data.selected);\n  const handleUpdate = item => {\n    const updatedSelectedItems = selectedItems.includes(item) ? selectedItems.filter(selectedItem => selectedItem !== item) : [...selectedItems, item];\n    console.log({\n      updatedSelectedItems\n    });\n    setSelectedItems(updatedSelectedItems);\n    args.onSelect(updatedSelectedItems);\n  };\n  return <div style={{\n    minHeight: '20vh'\n  }}>\n      <AutoCompleteFilterMultipleSelectMultipleFieldsDisplay {...args} data={{\n      ...args.data,\n      selected: selectedItems\n    }} onSelect={handleUpdate} />\n    </div>;\n}",...Basic.parameters?.docs?.source}}};try{Basic.displayName="Basic",Basic.__docgenInfo={description:"",displayName:"Basic",props:{uniqueField:{defaultValue:null,description:"",name:"uniqueField",required:!1,type:{name:"string"}},isSelectedStringArray:{defaultValue:null,description:"",name:"isSelectedStringArray",required:!1,type:{name:"boolean"}},loader:{defaultValue:null,description:"",name:"loader",required:!1,type:{name:"boolean"}},placeholder:{defaultValue:null,description:"",name:"placeholder",required:!1,type:{name:"string"}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"any"}},hasError:{defaultValue:null,description:"",name:"hasError",required:!1,type:{name:"boolean"}},disable:{defaultValue:null,description:"",name:"disable",required:!1,type:{name:"boolean"}},isUpperCase:{defaultValue:null,description:"",name:"isUpperCase",required:!1,type:{name:"boolean"}},name:{defaultValue:null,description:"",name:"name",required:!1,type:{name:"string"}},onFilter:{defaultValue:null,description:"",name:"onFilter",required:!1,type:{name:"((value: string) => void)"}},onUpdate:{defaultValue:null,description:"",name:"onUpdate",required:!0,type:{name:"(item: any) => void"}},onSelect:{defaultValue:null,description:"",name:"onSelect",required:!0,type:{name:"(item: any) => any"}},onBlur:{defaultValue:null,description:"",name:"onBlur",required:!1,type:{name:"((e: any) => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/core-components/src/molecules/auto-complete-filter-multiple-select-multiple-fields-display/auto-complete-filter-multiple-select-multiple-fields-display.stories.tsx#Basic"]={docgenInfo:Basic.__docgenInfo,name:"Basic",path:"src/core-components/src/molecules/auto-complete-filter-multiple-select-multiple-fields-display/auto-complete-filter-multiple-select-multiple-fields-display.stories.tsx#Basic"})}catch(__react_docgen_typescript_loader_error){}}}]);