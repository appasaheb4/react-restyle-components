{"version":3,"file":"core-components-src-components-AutoComplete-auto-complete-filter-multi-select-multi-fields-display-drag-drop-auto-complete-filter-multi-select-multi-fields-display-drag-drop-stories.9941a2c1.iframe.bundle.js","mappings":";;;;AAyFA","sources":["webpack://react-restyle-components/./src/core-components/src/components/AutoComplete/auto-complete-filter-multi-select-multi-fields-display-drag-drop/auto-complete-filter-multi-select-multi-fields-display-drag-drop.stories.tsx"],"sourcesContent":["import React, {useState} from 'react';\nimport type {Meta, StoryObj} from '@storybook/react';\nimport {action} from '@storybook/addon-actions';\nimport {styled} from 'styled-components';\nimport {AutoCompleteFilterMultiSelectMultiFieldsDisplayDragDrop} from './auto-complete-filter-multi-select-multi-fields-display-drag-drop.component';\n\nconst Wrapper = styled.div`\n  width: 100%;\n  padding: 20px;\n  max-width: 800px;\n`;\n\ninterface AutoCompleteFilterMutiSelectMultiFieldsDisplayDragDropProps {\n  key?: string;\n  uniqueField?: string;\n  loader?: boolean;\n  placeholder?: string;\n  data: any;\n  hasError?: boolean;\n  disable?: boolean;\n  isUpperCase?: boolean;\n  name?: string;\n  defaultValue?: string;\n  onFilter?: (value: string) => void;\n  onUpdate: (item: any) => void;\n  onSelect: (item: any) => any;\n  onBlur?: (e: any) => void;\n}\n\nconst meta: Meta<\n  typeof AutoCompleteFilterMultiSelectMultiFieldsDisplayDragDrop\n> = {\n  title:\n    'Components/AutoComplete/AutoCompleteFilterMultiSelectMultiFieldsDisplayDragDrop',\n  component: AutoCompleteFilterMultiSelectMultiFieldsDisplayDragDrop,\n  tags: ['autodocs'],\n  parameters: {\n    componentSubtitle: `import { AutoCompleteFilterMultiSelectMultiFieldsDisplayDragDrop } from 'react-restyle-components'`,\n    layout: 'centered',\n    docs: {\n      description: {\n        component:\n          'An advanced auto-complete multi-select component with drag-and-drop reordering, filtering, and multi-field display capabilities.',\n      },\n    },\n  },\n  decorators: [\n    (Story) => (\n      <Wrapper>\n        <Story />\n      </Wrapper>\n    ),\n  ],\n  argTypes: {\n    uniqueField: {\n      control: 'text',\n      description: 'Field to use as unique identifier',\n    },\n    loader: {\n      control: 'boolean',\n      description: 'Show loading spinner',\n    },\n    placeholder: {\n      control: 'text',\n      description: 'Input placeholder text',\n    },\n    hasError: {\n      control: 'boolean',\n      description: 'Show error state',\n    },\n    disable: {\n      control: 'boolean',\n      description: 'Disable the component',\n    },\n    isUpperCase: {\n      control: 'boolean',\n      description: 'Transform input to uppercase',\n    },\n    name: {\n      control: 'text',\n      description: 'Input name attribute',\n    },\n    defaultValue: {\n      control: 'text',\n      description: 'Default input value',\n    },\n  },\n};\n\nexport default meta;\ntype Story = StoryObj<\n  typeof AutoCompleteFilterMultiSelectMultiFieldsDisplayDragDrop\n>;\n\n// Sample data with 10 records\nconst sampleData = {\n  list: [\n    {\n      _id: '1',\n      code: 'EMP001',\n      name: 'John',\n      lastName: 'Doe',\n      department: 'Engineering',\n      position: 'Senior Developer',\n    },\n    {\n      _id: '2',\n      code: 'EMP002',\n      name: 'Jane',\n      lastName: 'Smith',\n      department: 'Design',\n      position: 'UI/UX Designer',\n    },\n    {\n      _id: '3',\n      code: 'EMP003',\n      name: 'Mike',\n      lastName: 'Johnson',\n      department: 'Marketing',\n      position: 'Marketing Manager',\n    },\n    {\n      _id: '4',\n      code: 'EMP004',\n      name: 'Sarah',\n      lastName: 'Williams',\n      department: 'Engineering',\n      position: 'Frontend Developer',\n    },\n    {\n      _id: '5',\n      code: 'EMP005',\n      name: 'David',\n      lastName: 'Brown',\n      department: 'Sales',\n      position: 'Sales Representative',\n    },\n    {\n      _id: '6',\n      code: 'EMP006',\n      name: 'Emily',\n      lastName: 'Davis',\n      department: 'HR',\n      position: 'HR Specialist',\n    },\n    {\n      _id: '7',\n      code: 'EMP007',\n      name: 'Robert',\n      lastName: 'Miller',\n      department: 'Engineering',\n      position: 'Backend Developer',\n    },\n    {\n      _id: '8',\n      code: 'EMP008',\n      name: 'Lisa',\n      lastName: 'Wilson',\n      department: 'Finance',\n      position: 'Financial Analyst',\n    },\n    {\n      _id: '9',\n      code: 'EMP009',\n      name: 'Chris',\n      lastName: 'Moore',\n      department: 'Operations',\n      position: 'Operations Manager',\n    },\n    {\n      _id: '10',\n      code: 'EMP010',\n      name: 'Amanda',\n      lastName: 'Taylor',\n      department: 'Design',\n      position: 'Graphic Designer',\n    },\n    {\n      _id: '11',\n      code: 'EMP011',\n      name: 'Brian',\n      lastName: 'Clark',\n      department: 'Engineering',\n      position: 'DevOps Engineer',\n    },\n    {\n      _id: '12',\n      code: 'EMP012',\n      name: 'Jessica',\n      lastName: 'Lewis',\n      department: 'Marketing',\n      position: 'Content Strategist',\n    },\n    {\n      _id: '13',\n      code: 'EMP013',\n      name: 'Matthew',\n      lastName: 'Walker',\n      department: 'Sales',\n      position: 'Account Manager',\n    },\n    {\n      _id: '14',\n      code: 'EMP014',\n      name: 'Ashley',\n      lastName: 'Hall',\n      department: 'HR',\n      position: 'Recruiter',\n    },\n    {\n      _id: '15',\n      code: 'EMP015',\n      name: 'Joshua',\n      lastName: 'Allen',\n      department: 'Finance',\n      position: 'Accountant',\n    },\n    {\n      _id: '16',\n      code: 'EMP016',\n      name: 'Megan',\n      lastName: 'Young',\n      department: 'Operations',\n      position: 'Logistics Coordinator',\n    },\n    {\n      _id: '17',\n      code: 'EMP017',\n      name: 'Andrew',\n      lastName: 'King',\n      department: 'Engineering',\n      position: 'QA Engineer',\n    },\n    {\n      _id: '18',\n      code: 'EMP018',\n      name: 'Rachel',\n      lastName: 'Wright',\n      department: 'Design',\n      position: 'Product Designer',\n    },\n    {\n      _id: '19',\n      code: 'EMP019',\n      name: 'Daniel',\n      lastName: 'Lopez',\n      department: 'Marketing',\n      position: 'SEO Specialist',\n    },\n    {\n      _id: '20',\n      code: 'EMP020',\n      name: 'Nicole',\n      lastName: 'Hill',\n      department: 'Sales',\n      position: 'Sales Manager',\n    },\n    {\n      _id: '21',\n      code: 'EMP021',\n      name: 'Kevin',\n      lastName: 'Scott',\n      department: 'HR',\n      position: 'HR Manager',\n    },\n    {\n      _id: '22',\n      code: 'EMP022',\n      name: 'Laura',\n      lastName: 'Green',\n      department: 'Finance',\n      position: 'Payroll Specialist',\n    },\n    {\n      _id: '23',\n      code: 'EMP023',\n      name: 'Justin',\n      lastName: 'Adams',\n      department: 'Operations',\n      position: 'Facilities Manager',\n    },\n    {\n      _id: '24',\n      code: 'EMP024',\n      name: 'Stephanie',\n      lastName: 'Nelson',\n      department: 'Engineering',\n      position: 'Mobile Developer',\n    },\n    {\n      _id: '25',\n      code: 'EMP025',\n      name: 'Ryan',\n      lastName: 'Baker',\n      department: 'Design',\n      position: 'Interaction Designer',\n    },\n    {\n      _id: '26',\n      code: 'EMP026',\n      name: 'Kimberly',\n      lastName: 'Carter',\n      department: 'Marketing',\n      position: 'Brand Manager',\n    },\n    {\n      _id: '27',\n      code: 'EMP027',\n      name: 'Eric',\n      lastName: 'Mitchell',\n      department: 'Sales',\n      position: 'Business Development',\n    },\n    {\n      _id: '28',\n      code: 'EMP028',\n      name: 'Melissa',\n      lastName: 'Perez',\n      department: 'HR',\n      position: 'Training Specialist',\n    },\n    {\n      _id: '29',\n      code: 'EMP029',\n      name: 'Brandon',\n      lastName: 'Roberts',\n      department: 'Finance',\n      position: 'Financial Controller',\n    },\n    {\n      _id: '30',\n      code: 'EMP030',\n      name: 'Samantha',\n      lastName: 'Turner',\n      department: 'Operations',\n      position: 'Operations Analyst',\n    },\n  ],\n  selected: [],\n  displayKey: ['code', 'name', 'lastName'],\n};\n\n// Template with state management\nconst Template = (\n  args: AutoCompleteFilterMutiSelectMultiFieldsDisplayDragDropProps\n) => {\n  // Add null checks here\n  const [selectedItems, setSelectedItems] = useState(\n    args?.data?.selected || []\n  );\n  const [filteredData, setFilteredData] = useState(\n    args?.data || {list: [], selected: [], displayKey: []}\n  );\n\n  const handleUpdate = (items: any[]) => {\n    console.log('Updated items:', items);\n    setSelectedItems(items || []);\n    action('onUpdate')(items);\n  };\n\n  const handleSelect = (item: any) => {\n    console.log('Selected item:', item);\n\n    // Add null check for item\n    if (!item || !item?._id) {\n      console.warn('Invalid item selected:', item);\n      return selectedItems;\n    }\n\n    const isSelected = selectedItems?.some(\n      (selected) => selected?._id === item?._id\n    );\n\n    let updatedSelectedItems;\n    if (isSelected) {\n      // Remove item if already selected\n      updatedSelectedItems =\n        selectedItems?.filter((selected) => selected?._id !== item?._id) || [];\n    } else {\n      // Add item if not selected\n      updatedSelectedItems = [...(selectedItems || []), item];\n    }\n\n    setSelectedItems(updatedSelectedItems);\n    action('onSelect')(item);\n\n    return updatedSelectedItems;\n  };\n\n  const handleFilter = (value: string) => {\n    console.log('Filter value:', value);\n    action('onFilter')(value);\n\n    // Add null checks\n    if (!args?.data || !args?.data?.list || !Array.isArray(args?.data?.list)) {\n      console.warn('Invalid data structure for filtering');\n      return;\n    }\n\n    if (!value || value.trim() === '') {\n      // Reset to original data when search is empty\n      setFilteredData(args?.data);\n    } else {\n      // Filter the list based on search value\n      const filteredOptions =\n        args.data?.list?.filter((item: any) =>\n          args.data?.displayKey?.some((key: string) =>\n            item?.[key]\n              ?.toString()\n              .toLowerCase()\n              ?.includes(value?.toLowerCase())\n          )\n        ) || [];\n\n      setFilteredData({\n        ...args?.data,\n        list: filteredOptions,\n      });\n    }\n  };\n\n  // Ensure safe data structure\n  const safeFilteredData = {\n    list: filteredData?.list || [],\n    selected: selectedItems || [],\n    displayKey: filteredData?.displayKey || args?.data?.displayKey || [],\n  };\n\n  return (\n    <AutoCompleteFilterMultiSelectMultiFieldsDisplayDragDrop\n      {...args}\n      data={safeFilteredData}\n      onUpdate={handleUpdate}\n      onSelect={handleSelect}\n      onFilter={handleFilter}\n      onBlur={(e) => {\n        console.log('Blur event:', e);\n        action('onBlur')(e);\n      }}\n    />\n  );\n};\n\n// Documentation/Overview story (appears first)\nexport const Documentation: Story = {\n  name: 'Documentation',\n  render: Template,\n  args: {\n    key: 'employee-selector',\n    uniqueField: '_id',\n    placeholder: 'Search employees...',\n    data: {\n      list: [\n        {\n          _id: '1',\n          code: 'EMP001',\n          name: 'John',\n          lastName: 'Doe',\n          department: 'Engineering',\n          position: 'Senior Developer',\n        },\n        {\n          _id: '2',\n          code: 'EMP002',\n          name: 'Jane',\n          lastName: 'Smith',\n          department: 'Design',\n          position: 'UI/UX Designer',\n        },\n        {\n          _id: '3',\n          code: 'EMP003',\n          name: 'Mike',\n          lastName: 'Johnson',\n          department: 'Marketing',\n          position: 'Marketing Manager',\n        },\n      ],\n      selected: [],\n      displayKey: ['code', 'name', 'lastName'],\n    },\n    hasError: false,\n    disable: false,\n    isUpperCase: false,\n    name: 'employeeSelect',\n    loader: false,\n  },\n  parameters: {\n    docs: {\n      source: {\n        code: `\nimport { AutoCompleteFilterMultiSelectMultiFieldsDisplayDragDrop } from 'react-restyle-components';\n\n<AutoCompleteFilterMultiSelectMultiFieldsDisplayDragDrop\n  uniqueField=\"_id\"\n  placeholder=\"Search employees...\"\n  data={{\n    list: [\n      {_id: '1', code: 'EMP001', name: 'John', lastName: 'Doe', department: 'Engineering'},\n      {_id: '2', code: 'EMP002', name: 'Jane', lastName: 'Smith', department: 'Design'},\n      {_id: '3', code: 'EMP003', name: 'Mike', lastName: 'Johnson', department: 'Marketing'},\n    ],\n    selected: [],\n    displayKey: ['code', 'name', 'lastName'],\n  }}\n  onUpdate={(items) => console.log(items)}\n  onSelect={(item) => console.log(item)}\n  onFilter={(value) => console.log(value)}\n/>\n        `,\n        language: 'tsx',\n      },\n      description: {\n        story:\n          'Overview of the AutoCompleteFilterMultiSelectMultiFieldsDisplayDragDrop component with default configuration. This component provides a searchable multi-select dropdown with drag-and-drop reordering, multiple field display, and filtering capabilities.',\n      },\n    },\n    order: 0,\n  },\n};\n\n// Basic story with 10 records\nexport const Basic: Story = {\n  render: Template,\n  args: {\n    key: 'employee-selector',\n    uniqueField: '_id',\n    placeholder: 'Search employees...',\n    data: sampleData,\n    hasError: false,\n    disable: false,\n    isUpperCase: false,\n    name: 'employeeSelect',\n    loader: false,\n  },\n  parameters: {\n    docs: {\n      description: {\n        story:\n          'Basic auto-complete multi-select with drag-and-drop functionality. Shows 10 employee records with code, name, and department fields.',\n      },\n    },\n  },\n};\n"],"names":[],"sourceRoot":""}