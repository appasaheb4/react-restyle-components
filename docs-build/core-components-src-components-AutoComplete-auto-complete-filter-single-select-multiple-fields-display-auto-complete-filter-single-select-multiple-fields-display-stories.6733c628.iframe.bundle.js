"use strict";(self.webpackChunkreact_restyle_components=self.webpackChunkreact_restyle_components||[]).push([[9030],{"./src/core-components/src/components/AutoComplete/auto-complete-filter-single-select-multiple-fields-display/auto-complete-filter-single-select-multiple-fields-display.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Basic:()=>Basic,Documentation:()=>Documentation,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@storybook/addon-actions/dist/index.mjs"),styled_components__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),_auto_complete_filter_single_select_multiple_fields_display_component__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/core-components/src/components/AutoComplete/auto-complete-filter-single-select-multiple-fields-display/auto-complete-filter-single-select-multiple-fields-display.component.tsx");const Wrapper=styled_components__WEBPACK_IMPORTED_MODULE_3__.I4.div`
  width: 100%;
  padding: 20px;
  max-width: 600px;
`,__WEBPACK_DEFAULT_EXPORT__={title:"Components/AutoComplete/AutoCompleteFilterSingleSelectMultiFieldsDisplay",component:_auto_complete_filter_single_select_multiple_fields_display_component__WEBPACK_IMPORTED_MODULE_2__.l,tags:["autodocs"],parameters:{componentSubtitle:"import { AutoCompleteFilterSingleSelectMultiFieldsDisplay } from 'react-restyle-components'",layout:"centered",docs:{description:{component:"\nThis component provides an autocomplete dropdown for filtering and selecting a single item from multiple fields.\n\n### onFilter example:\n```tsx\nonFilter: (value: string) => {\n  companyStore.companyService.filterByFields({\n    input: {\n      filter: {\n        fields: ['code', 'name'],\n        srText: value,\n      },\n      page: 0,\n      limit: 10,\n    },\n  });\n},\n```\n        "}}},decorators:[Story=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(Wrapper,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(Story,null))]},Documentation={name:"Documentation",args:{loader:!1,placeholder:"Search by code or name...",hasError:!1,displayValue:"",data:{list:[{code:"CAM001",name:"Main Entrance Camera"},{code:"CAM002",name:"Lobby Camera"},{code:"CAM003",name:"Parking Lot Camera"}],displayKey:["code","name"]},onFilter:value=>{(0,_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_1__.XI)("onFilter")(value)},onSelect:item=>{(0,_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_1__.XI)("onSelect")(item)}},parameters:{docs:{source:{code:"\nimport { AutoCompleteFilterSingleSelectMultiFieldsDisplay } from 'react-restyle-components';\n\n<AutoCompleteFilterSingleSelectMultiFieldsDisplay\n  loader={false}\n  placeholder=\"Search by code or name...\"\n  hasError={false}\n  displayValue=\"\"\n  data={{\n    list: [\n      {code: 'CAM001', name: 'Main Entrance Camera'},\n      {code: 'CAM002', name: 'Lobby Camera'},\n      {code: 'CAM003', name: 'Parking Lot Camera'},\n    ],\n    displayKey: ['code', 'name'],\n  }}\n  onFilter={(value) => console.log(value)}\n  onSelect={(item) => console.log(item)}\n/>\n        ",language:"tsx"},description:{story:"Overview of the AutoCompleteFilterSingleSelectMultiFieldsDisplay component with default configuration. This component provides a searchable single-select dropdown with multiple field display and filtering capabilities."}},order:0}},Basic={args:{loader:!1,placeholder:"Search by code code or name...",hasError:!1,displayValue:"",data:{list:[{code:"CAM001",name:"Main Entrance Camera"},{code:"CAM002",name:"Lobby Camera"},{code:"CAM003",name:"Parking Lot Camera"},{code:"CAM004",name:"Warehouse Camera"},{code:"CAM005",name:"Office Floor Camera"},{code:"CAM006",name:"Reception Camera"},{code:"CAM007",name:"Server Room Camera"},{code:"CAM008",name:"Backyard Camera"},{code:"CAM009",name:"Loading Dock Camera"},{code:"CAM010",name:"Conference Room Camera"}],displayKey:["code","name"]},onFilter:value=>{console.log("Filtering with:",value)},onSelect:item=>{console.log({item})}},render:args=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(_auto_complete_filter_single_select_multiple_fields_display_component__WEBPACK_IMPORTED_MODULE_2__.l,args)},__namedExportsOrder=["Documentation","Basic"];Documentation.parameters={...Documentation.parameters,docs:{...Documentation.parameters?.docs,source:{originalSource:"{\n  name: 'Documentation',\n  args: {\n    loader: false,\n    placeholder: 'Search by code or name...',\n    hasError: false,\n    displayValue: '',\n    data: {\n      list: [{\n        code: 'CAM001',\n        name: 'Main Entrance Camera'\n      }, {\n        code: 'CAM002',\n        name: 'Lobby Camera'\n      }, {\n        code: 'CAM003',\n        name: 'Parking Lot Camera'\n      }],\n      displayKey: ['code', 'name']\n    },\n    onFilter: (value: string) => {\n      action('onFilter')(value);\n    },\n    onSelect: item => {\n      action('onSelect')(item);\n    }\n  },\n  parameters: {\n    docs: {\n      source: {\n        code: `\nimport { AutoCompleteFilterSingleSelectMultiFieldsDisplay } from 'react-restyle-components';\n\n<AutoCompleteFilterSingleSelectMultiFieldsDisplay\n  loader={false}\n  placeholder=\"Search by code or name...\"\n  hasError={false}\n  displayValue=\"\"\n  data={{\n    list: [\n      {code: 'CAM001', name: 'Main Entrance Camera'},\n      {code: 'CAM002', name: 'Lobby Camera'},\n      {code: 'CAM003', name: 'Parking Lot Camera'},\n    ],\n    displayKey: ['code', 'name'],\n  }}\n  onFilter={(value) => console.log(value)}\n  onSelect={(item) => console.log(item)}\n/>\n        `,\n        language: 'tsx'\n      },\n      description: {\n        story: 'Overview of the AutoCompleteFilterSingleSelectMultiFieldsDisplay component with default configuration. This component provides a searchable single-select dropdown with multiple field display and filtering capabilities.'\n      }\n    },\n    order: 0\n  }\n}",...Documentation.parameters?.docs?.source}}},Basic.parameters={...Basic.parameters,docs:{...Basic.parameters?.docs,source:{originalSource:"{\n  args: {\n    loader: false,\n    placeholder: 'Search by code code or name...',\n    hasError: false,\n    displayValue: '',\n    data: {\n      list: [{\n        code: 'CAM001',\n        name: 'Main Entrance Camera'\n      }, {\n        code: 'CAM002',\n        name: 'Lobby Camera'\n      }, {\n        code: 'CAM003',\n        name: 'Parking Lot Camera'\n      }, {\n        code: 'CAM004',\n        name: 'Warehouse Camera'\n      }, {\n        code: 'CAM005',\n        name: 'Office Floor Camera'\n      }, {\n        code: 'CAM006',\n        name: 'Reception Camera'\n      }, {\n        code: 'CAM007',\n        name: 'Server Room Camera'\n      }, {\n        code: 'CAM008',\n        name: 'Backyard Camera'\n      }, {\n        code: 'CAM009',\n        name: 'Loading Dock Camera'\n      }, {\n        code: 'CAM010',\n        name: 'Conference Room Camera'\n      }],\n      displayKey: ['code', 'name']\n    },\n    onFilter: (value: string) => {\n      console.log('Filtering with:', value);\n    },\n    onSelect: item => {\n      console.log({\n        item\n      });\n    }\n  },\n  render: args => <AutoCompleteFilterSingleSelectMultiFieldsDisplay {...args} />\n}",...Basic.parameters?.docs?.source}}}},"./src/core-components/src/components/AutoComplete/auto-complete-filter-single-select-multiple-fields-display/auto-complete-filter-single-select-multiple-fields-display.component.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{l:()=>AutoCompleteFilterSingleSelectMultiFieldsDisplay});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),___WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/core-components/src/components/index.ts"),_tc_module_css__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/core-components/src/tc.module.css"),_tc_module_css__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_tc_module_css__WEBPACK_IMPORTED_MODULE_2__),_utils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/core-components/src/utils/index.ts"),_techabl_core_utils__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@techabl/core-utils/lib/index.js");const AutoCompleteFilterSingleSelectMultiFieldsDisplay=({disable=!1,loader=!1,displayValue="",placeholder="Search...",data,hasError=!1,className,posstion="absolute",keyboard="text",onFilter,onSelect,onBlur})=>{const[value,setValue]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(displayValue),[options,setOptions]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(data.list),[isListOpen,setIsListOpen]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),[filterValue,setFilterValue]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(),inputRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),wrapperRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);var ref;ref=wrapperRef,(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{function handleClickOutside(event){ref.current&&!ref.current.contains(event.target)&&isListOpen&&setIsListOpen(!1)}return document.addEventListener("mousedown",handleClickOutside),()=>{document.removeEventListener("mousedown",handleClickOutside)}}),[ref,isListOpen]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{setOptions(data.list)}),[data]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{setValue(displayValue)}),[displayValue]);return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{ref:wrapperRef,className:(0,_utils__WEBPACK_IMPORTED_MODULE_3__.cn)(_tc_module_css__WEBPACK_IMPORTED_MODULE_2___default()["w-full"],_tc_module_css__WEBPACK_IMPORTED_MODULE_2___default().relative)},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:(0,_utils__WEBPACK_IMPORTED_MODULE_3__.cn)(_tc_module_css__WEBPACK_IMPORTED_MODULE_2___default().flex,_tc_module_css__WEBPACK_IMPORTED_MODULE_2___default()["p-2"],_tc_module_css__WEBPACK_IMPORTED_MODULE_2___default()["leading-4"],_tc_module_css__WEBPACK_IMPORTED_MODULE_2___default()["focus:outline-none"],_tc_module_css__WEBPACK_IMPORTED_MODULE_2___default()["focus:ring"],_tc_module_css__WEBPACK_IMPORTED_MODULE_2___default()["w-full"],_tc_module_css__WEBPACK_IMPORTED_MODULE_2___default()["shadow-sm"],_tc_module_css__WEBPACK_IMPORTED_MODULE_2___default()["sm:text-base"],_tc_module_css__WEBPACK_IMPORTED_MODULE_2___default().border,_tc_module_css__WEBPACK_IMPORTED_MODULE_2___default()["rounded-md"],{[_tc_module_css__WEBPACK_IMPORTED_MODULE_2___default()["border-red"]]:hasError,[_tc_module_css__WEBPACK_IMPORTED_MODULE_2___default()["border-gray-300"]]:!hasError,[_tc_module_css__WEBPACK_IMPORTED_MODULE_2___default()["dark:text-black"]]:!0})},react__WEBPACK_IMPORTED_MODULE_0__.createElement("input",{ref:inputRef,placeholder,type:keyboard,value,className:(0,_utils__WEBPACK_IMPORTED_MODULE_3__.cn)(_tc_module_css__WEBPACK_IMPORTED_MODULE_2___default()["w-full"],_tc_module_css__WEBPACK_IMPORTED_MODULE_2___default()["focus:outline-none"],_tc_module_css__WEBPACK_IMPORTED_MODULE_2___default()["bg-none"],_tc_module_css__WEBPACK_IMPORTED_MODULE_2___default()["dark:text-black"],className),onKeyUp:e=>{if(8===(e.which?e.which:e.keyCode)){const search=e.target.value;(0,_techabl_core_utils__WEBPACK_IMPORTED_MODULE_4__.debounce)((()=>{onFilter&&onFilter(search)}))}},onChange:e=>{const search=e.target.value;setValue(search),setFilterValue(search);const filteredOptions=data.list.filter((item=>data.displayKey.some((key=>item[key]?.toString().toLowerCase().includes(search.toLowerCase())))));setOptions(filteredOptions),(0,_techabl_core_utils__WEBPACK_IMPORTED_MODULE_4__.debounce)((()=>{onFilter&&onFilter(search)}))},onClick:()=>setIsListOpen(!0),disabled:disable,onMouseDown:()=>setValue(""),onBlur:e=>onBlur&&onBlur(e),onKeyDown:e=>{if(("Enter"===e.key||"Tab"===e.key)&&options.length>0){const selectedItem=options.find((item=>item.labId===Number(value)));selectedItem&&(setValue(data.displayKey.map((key=>`${selectedItem[key]}`)).join(" - ")),setIsListOpen(!1),onSelect&&onSelect(selectedItem))}}}),isListOpen?react__WEBPACK_IMPORTED_MODULE_0__.createElement(___WEBPACK_IMPORTED_MODULE_1__.In,{nameIcon:"FaChevronUp",propsIcon:{size:16}}):react__WEBPACK_IMPORTED_MODULE_0__.createElement(___WEBPACK_IMPORTED_MODULE_1__.In,{nameIcon:"FaChevronDown",propsIcon:{size:16}})),options&&isListOpen?options.length>0?react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:(0,_utils__WEBPACK_IMPORTED_MODULE_3__.cn)(_tc_module_css__WEBPACK_IMPORTED_MODULE_2___default().absolute,_tc_module_css__WEBPACK_IMPORTED_MODULE_2___default()["w-full"],_tc_module_css__WEBPACK_IMPORTED_MODULE_2___default()["bg-gray-100"],_tc_module_css__WEBPACK_IMPORTED_MODULE_2___default()["p-2"],_tc_module_css__WEBPACK_IMPORTED_MODULE_2___default()["rounded-sm"],_tc_module_css__WEBPACK_IMPORTED_MODULE_2___default()["overflow-y-auto"]),style:{zIndex:500,maxHeight:`${(()=>{if(inputRef.current){const inputRect=inputRef.current.getBoundingClientRect();return window.innerHeight-inputRect.bottom-20}return"calc(100vh - 140px)"})()}px`}},react__WEBPACK_IMPORTED_MODULE_0__.createElement("ul",null,options?.map(((item,index)=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{key:index,className:(0,_utils__WEBPACK_IMPORTED_MODULE_3__.cn)(_tc_module_css__WEBPACK_IMPORTED_MODULE_2___default()["text-gray-400"],_tc_module_css__WEBPACK_IMPORTED_MODULE_2___default().flex,_tc_module_css__WEBPACK_IMPORTED_MODULE_2___default()["items-center"]),onClick:()=>{setValue(data.displayKey.map((key=>item[key])).filter((value=>null!=value)).join(" - ")),setIsListOpen(!1),onSelect&&onSelect(item)}},react__WEBPACK_IMPORTED_MODULE_0__.createElement("label",{className:(0,_utils__WEBPACK_IMPORTED_MODULE_3__.cn)(_tc_module_css__WEBPACK_IMPORTED_MODULE_2___default()["ml-2"],_tc_module_css__WEBPACK_IMPORTED_MODULE_2___default()["mt-1"],_tc_module_css__WEBPACK_IMPORTED_MODULE_2___default()["text-black"]),style:{textOverflow:"ellipsis",minWidth:0,overflow:"hidden",whiteSpace:"nowrap"},title:data.displayKey.map((key=>item[key])).join(" - ")},data.displayKey.map((key=>item[key])).filter((value=>null!=value)).join(" - "))))))):react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:(0,_utils__WEBPACK_IMPORTED_MODULE_3__.cn)(_tc_module_css__WEBPACK_IMPORTED_MODULE_2___default()["mt-1"],_tc_module_css__WEBPACK_IMPORTED_MODULE_2___default().absolute,_tc_module_css__WEBPACK_IMPORTED_MODULE_2___default()["bg-gray-100"],_tc_module_css__WEBPACK_IMPORTED_MODULE_2___default()["p-2"],_tc_module_css__WEBPACK_IMPORTED_MODULE_2___default()["rounded-sm"]),style:{zIndex:80,width:"100%"}},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,"Not Found Result!!")):null))}}}]);
//# sourceMappingURL=core-components-src-components-AutoComplete-auto-complete-filter-single-select-multiple-fields-display-auto-complete-filter-single-select-multiple-fields-display-stories.6733c628.iframe.bundle.js.map