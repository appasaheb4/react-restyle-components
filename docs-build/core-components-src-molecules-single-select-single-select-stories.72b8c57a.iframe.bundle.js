"use strict";(self.webpackChunkreact_restyle_components=self.webpackChunkreact_restyle_components||[]).push([[5554],{"./src/core-components/src/molecules/single-select/single-select.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Basic:()=>Basic,__namedExportsOrder:()=>__namedExportsOrder,default:()=>single_select_stories});var react=__webpack_require__("./node_modules/react/index.js"),lib=__webpack_require__("./src/core-components/lib/index.js"),tc_module=__webpack_require__("./src/core-components/src/tc.module.css"),tc_module_default=__webpack_require__.n(tc_module),utility_util=__webpack_require__("./src/core-components/src/utils/utility.util.ts");const SingleSelect=({options=[],displayKey="title",displayValue="",hasError=!1,className="",style={},onSelect})=>{const[value,setValue]=(0,react.useState)(""),[isListOpen,setIsListOpen]=(0,react.useState)(!1),[highlightedIndex,setHighlightedIndex]=(0,react.useState)(-1),wrapperRef=(0,react.useRef)(null);var ref;return ref=wrapperRef,(0,react.useEffect)((()=>{function handleClickOutside(event){ref.current&&!ref.current.contains(event.target)&&isListOpen&&setIsListOpen(!1)}return document.addEventListener("mousedown",handleClickOutside),()=>{document.removeEventListener("mousedown",handleClickOutside)}}),[ref,isListOpen]),(0,react.useEffect)((()=>{if(displayValue&&setValue(displayValue),!isListOpen)return;const handleKeyDown=e=>{if("ArrowDown"===e.key)setHighlightedIndex((prev=>prev<options.length-1?prev+1:0));else if("ArrowUp"===e.key)setHighlightedIndex((prev=>prev>0?prev-1:options.length-1));else if("Enter"===e.key&&highlightedIndex>=0){const item=options[highlightedIndex];setValue(item[displayKey]),onSelect(item),setIsListOpen(!1)}};return document.addEventListener("keydown",handleKeyDown),()=>document.removeEventListener("keydown",handleKeyDown)}),[isListOpen,highlightedIndex,options,displayKey,onSelect,displayValue]),(0,react.useEffect)((()=>{isListOpen&&setHighlightedIndex(-1)}),[isListOpen]),react.createElement(react.Fragment,null,react.createElement("div",{className:(0,utility_util.cn)(tc_module_default().flex,tc_module_default()["dark:bg-boxdark"],tc_module_default()["dark:text-white"],tc_module_default()["flex-col"],tc_module_default()["w-full"],tc_module_default()["rounded-md"],tc_module_default().border,{[tc_module_default()["border-red"]]:hasError,[tc_module_default()["border-gray-300"]]:!hasError},className),ref:wrapperRef,style},react.createElement("span",{className:(0,utility_util.cn)(tc_module_default()["p-2"],tc_module_default()["shadow-sm"],tc_module_default().flex,tc_module_default()["justify-between"],tc_module_default()["items-center"]),onClick:()=>{setIsListOpen(!isListOpen)},tabIndex:0,style:{cursor:"pointer"}},value||"Select",react.createElement("span",null,isListOpen?react.createElement(lib.In,{nameIcon:"FaChevronUp",propsIcon:{size:16}}):react.createElement(lib.In,{nameIcon:"FaChevronDown",propsIcon:{size:16}}))),react.createElement("div",{className:(0,utility_util.cn)(tc_module_default().flex,{[tc_module_default().show]:isListOpen,[tc_module_default().hidden]:!isListOpen},tc_module_default().relative)},options?options?.length>0&&react.createElement("div",{className:(0,utility_util.cn)(tc_module_default().flex,tc_module_default().absolute,tc_module_default()["rounded-sm"],tc_module_default()["w-full"]),style:{zIndex:999}},react.createElement("ul",{className:(0,utility_util.cn)(tc_module_default().flex,tc_module_default()["flex-col"],tc_module_default()["gap-1"],tc_module_default()["bg-gray-200"],tc_module_default()["w-full"])},options?.map(((item,index)=>react.createElement("li",{key:index,className:(0,utility_util.cn)(tc_module_default().flex,tc_module_default()["gap-2"],tc_module_default()["p-2"],highlightedIndex===index&&tc_module_default()["bg-blue-100"]),style:{cursor:"pointer",background:highlightedIndex===index?"#e0e7ff":void 0},onClick:()=>{setValue(item[displayKey]),onSelect(item),setIsListOpen(!1)},onMouseEnter:()=>setHighlightedIndex(index)},react.createElement("label",{className:(0,utility_util.cn)(tc_module_default().flex,tc_module_default()["gap-2"])},react.createElement("span",{className:(0,utility_util.cn)(tc_module_default().flex,tc_module_default()["h-4"])},item[displayKey]))))))):null)))};try{SingleSelect.displayName="SingleSelect",SingleSelect.__docgenInfo={description:"",displayName:"SingleSelect",props:{options:{defaultValue:{value:"[]"},description:"",name:"options",required:!1,type:{name:"any[]"}},displayKey:{defaultValue:{value:"title"},description:"",name:"displayKey",required:!1,type:{name:"string"}},displayValue:{defaultValue:{value:""},description:"",name:"displayValue",required:!1,type:{name:"string"}},hasError:{defaultValue:{value:"false"},description:"",name:"hasError",required:!1,type:{name:"boolean"}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:{value:"{}"},description:"",name:"style",required:!1,type:{name:"CSSProperties"}},onSelect:{defaultValue:null,description:"",name:"onSelect",required:!0,type:{name:"(item: any) => any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/core-components/src/molecules/single-select/single-select.component.tsx#SingleSelect"]={docgenInfo:SingleSelect.__docgenInfo,name:"SingleSelect",path:"src/core-components/src/molecules/single-select/single-select.component.tsx#SingleSelect"})}catch(__react_docgen_typescript_loader_error){}const single_select_stories={title:"Core Components/Molecules/SingleSelect",component:SingleSelect,tags:["autodocs"],parameters:{componentSubtitle:"import { SingleSelect } from 'react-restyle-components'"}},Basic={args:{options:[{id:1,title:"CASH"},{id:2,title:"UPI"}],displayKey:"title",hasError:!1,onSelect:item=>{console.log({item})}},render:args=>react.createElement("div",{style:{minHeight:"20vh"}},react.createElement(SingleSelect,args))},__namedExportsOrder=["Basic"];Basic.parameters={...Basic.parameters,docs:{...Basic.parameters?.docs,source:{originalSource:"{\n  args: {\n    options: [{\n      id: 1,\n      title: 'CASH'\n    }, {\n      id: 2,\n      title: 'UPI'\n    }],\n    displayKey: 'title',\n    hasError: false,\n    onSelect: item => {\n      console.log({\n        item\n      });\n    }\n  },\n  render: args => <div style={{\n    minHeight: '20vh'\n  }}>\n      <SingleSelect {...args} />\n    </div>\n}",...Basic.parameters?.docs?.source}}}}}]);